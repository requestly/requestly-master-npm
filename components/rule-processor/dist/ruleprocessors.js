!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.requestlyRuleProcessors=r():e.requestlyRuleProcessors=r()}(global,(function(){return(()=>{var e={976:(e,r,t)=>{if(void 0===E)var E=!0;const a={};let s;s=E?t(531):window.RQ.configs,a.APP_MODES={DESKTOP:"DESKTOP",EXTENSION:"EXTENSION",WORDPRESS:"WORDPRESS",CLOUDFLARE:"CLOUDFLARE"},a.COMPANY_INFO={SUPPORT_EMAIL:"contact@requestly.io"},a.VERSION=3,a.TRACK_ERRORS=!0,a.ONBOARDING_DAYS_TO_EXPIRE=7,a.ONBOARDING_TASKS=5,a.FILE_PICKER_URL="/library/filepicker",a.VERSIONS={REPLACE_RULE:2},a.ENV=s.env,a.PUBLIC_NAMESPACE="__REQUESTLY__",a.RULES_PAGE_URL=s.WEB_URL+"/rules/",a.RULES_PAGE_URL_PATTERN=a.RULES_PAGE_URL+"*",a.PRICING_PAGE_URL=s.WEB_URL+"/pricing/",a.GOODBYE_PAGE_URL=s.WEB_URL+"/goodbye/",a.DELAY_API_URL=s.WEB_URL+"/delay/",a.MOCK_URL=s.WEB_URL+"/mock/",a.DESKTOP_APP_URL=s.WEB_URL+"/desktop/intercept-traffic",a.BLACK_LIST_DOMAINS=["requestly.in","requestly.io","rq.in","rq.io","__rq"],a.STRING_CONSTANTS={SLASH:"/"},a.LIMITS={NUMBER_SHARED_LISTS:10,NUMBER_EXECUTION_LOGS:25},a.DEFAULTS={APP_INIT_TIMEOUT:5e3},a.OBJECT_TYPES={GROUP:"group",RULE:"rule"},a.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script",QUERYPARAM:"QueryParam",RESPONSE:"Response",DELAY:"Delay"},a.DELAY_REQUEST_CONSTANTS={DELAY_PARAM_NAME:"delay",DELAY_PARAM_VALUE:"true",MIN_DELAY_VALUE:1,MAX_DELAY_VALUE_NON_XHR:1e4,MAX_DELAY_VALUE_XHR:5e3,DELAY_TYPE:{CLIENT_SIDE:"clientSideDelay",SERVER_SIDE:"serverSideDelay"},REQUEST_TYPE:{XHR:"xmlhttprequest"},METHOD_TYPE:{GET:"GET"}},a.OBJECT_FORMAT_KEYS={CREATION_DATE:"creationDate",NAME:"name",ID:"id",RULE_TYPE:"ruleType",STATUS:"status",OBJECT_TYPE:"objectType",GROUP_ID:"groupId",IS_FAVOURITE:"isFavourite"},a.HEADER_NAMES={USER_AGENT:"User-Agent"},a.GROUP_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},a.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},a.SUBSCRIPTION_STATUS={ACTIVE:"active",CANCELLED:"cancelled"},a.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header",OVERWRITE:"Overwrite",IGNORE:"Ignore",PARAM:"param",VALUE:"value"},a.PATH_FROM_PAIR={RULE_KEYS:"source.key",RULE_OPERATORS:"source.operator",SCRIPT_LIBRARIES:"libraries",SOURCE_PAGE_URL_OPERATOR:"source.filters.pageUrl.operator",SOURCE_PAGE_URL_VALUE:"source.filters.pageUrl.value",SOURCE_RESOURCE_TYPE:"source.filters.resourceType",SOURCE_REQUEST_METHOD:"source.filters.requestMethod",SOURCE_REQUEST_PAYLOAD_KEY:"source.filters.requestPayload.key",SOURCE_REQUEST_PAYLOAD_VALUE:"source.filters.requestPayload.value"},a.HEADER_SUGGESTIONS={Request:[{label:"authorization",value:"authorization"},{label:"cache-control",value:"cache-control"},{label:"cookie",value:"cookie"},{label:"connection",value:"connection"},{label:"origin",value:"origin"},{label:"user-agent",value:"user-agent"}],Response:[{label:"age",value:"age"},{label:"access-control-allow-origin",value:"access-control-allow-origin"},{label:"access-control-allow-credentials",value:"access-control-allow-credentials"},{label:"expires",value:"expires"},{label:"server",value:"server"},{label:"x-frame-options",value:"x-frame-options"}]},a.URL_COMPONENTS={PROTOCOL:"Protocol",URL:"Url",HOST:"host",PATH:"path",QUERY:"query",HASH:"hash"},a.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},a.RULE_SOURCE_FILTER_TYPES={PAGE_URL:"pageUrl",RESOURCE_TYPE:"resourceType",REQUEST_METHOD:"requestMethod",REQUEST_DATA:"requestPayload"},a.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",REMOVE_ALL:"Remove All",MODIFY:"Modify",REPLACE:"Replace"},a.NEED_HELP_QUERY_TYPES={FEEDBACK:"Feedback",BUG:"Bug",QUESTION:"Question",FEATURE_REQUEST:"FeatureRequest"},a.CLIENT_MESSAGES={GET_SCRIPT_RULES:"getScriptRules",DO_SETUP_RESPONSE_RULE_HANDLER:"doSetupResponseRuleHandler",GET_USER_AGENT_RULE_PAIRS:"getUserAgentRulePairs",OVERRIDE_RESPONSE:"overrideResponse",NOTIFY_RULES_APPLIED:"notifyRulesApplied"},a.EXTENSION_MESSAGES={FOCUS_TAB:"focusTab",GET_FULL_LOGS:"getFullLogs",CLEAR_LOGS_FOR_TAB:"clearLogsForTab",CLEAR_LOGS_FOR_DOMAIN:"clearLogsForDomain",GET_FAVOURITE_RULES:"getFavouriteRules",GET_FLAGS:"getFlags"},a.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},a.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},a.SCRIPT_TYPES={URL:"url",CODE:"code"},a.SCRIPT_CODE_TYPES={JS:"js",CSS:"css"},a.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},a.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},a.RESPONSE_BODY_TYPES={STATIC:"static",CODE:"code",LOCAL_FILE:"local_file"},a.RESPONSE_CODES={NOT_FOUND:404},a.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},a.MESSAGES={DELETE_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to delete.",DELETE_ITEMS:"Are you sure you want to delete the selected items?",DELETE_GROUP_WITH_RULES_WARNING:"There are some rules contained in this group. Please delete or ungroup them before deleting the group.",DELETE_GROUP:"Are you sure you want to delete the group?",UNGROUP_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to ungroup.",UNGROUP_ITEMS:"Are you sure you want to ungroup the selected items?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login to view your Shared Lists.",SIGN_IN_TO_CREATE_SHARED_LISTS:"Please login to share the selected rules",SIGN_IN_TO_SUBMIT_QUERY:"Please login to contact our support team.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than"+a.LIMITS.NUMBER_SHARED_LISTS+"shared lists",ERROR_TAB_FOCUS:"The tab cannot be focused, as it might have been closed.",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},a.RESOURCES={EXTENSION_ICON:"/resources/images/48x48.png",EXTENSION_ICON_GREYSCALE:"/resources/images/48x48_greyscale.png",EXTENSION_ICON_GREEN:"/resources/images/48x48_green.png"},a.GA_EVENTS={CATEGORIES:{RULES:"rules",RULE:"rule",GROUP:"group",USER:"user",SHARED_LIST:"shared list",TRASH:"trash",RULE_LOGS:"rule logs",EXTENSION:"extension",IN_APP_NOTIFICATION:"InAppNotification",NEED_HELP_FEATURE:"need help feature",PRICING:"pricing",LICENSE:"license",LIBRARY:"library",UNLOCK:"unlock",REMOTE_RULES:"remoteRules",SPONSOR_SIDERAIL:"sponsor_siderail",LOGIN:"login",SIGNUP:"signup",REFERRAL:"referral",PAGE_VISITS:"page visits",REQUEST_UPGRADE:"request upgrade",MARKETPLACE:"marketplace",CHECKOUT:"checkout page",TEAMS:"teams page",ONBOARDING:"onboarding page",RULE_PAIRS:"rule pairs",DESKTOP_APP:"desktop app"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed",CLICKED:"clicked",COPIED:"duplicated",MARKED_FAVOURITE:"marked favourite",UNMARKED_FAVOURITE:"unmarked favourite",WORKFLOW_STARTED:"workflow started",ALREADY_LOGIN:"already login",LOGIN_REQUESTED:"login requested",LOGIN_DONE:"login done",LOGIN_REJECTED:"login rejected",FORM_SUBMITTED:"form submitted",FORM_REJECTED:"form rejected",INVALID_SUBMIT:"invalid submit",GROUPED:"grouped",UNGROUPED:"ungrouped",SHARED:"shared",ERROR:"error occured",TASK_COMPLETED:"task completed",BACKUP_CREATED:"backup created",BACKUP_USED:"backup used",CARD_ERROR:"card error",CARD_ACCEPTED:"card accepted",CARD_ENTERED:"card num and cv entered",CURRENCY_CHANGE:"currency_changed",DURATION_CHANGE:"duration_changed",APPLIED_SUCCESSFULLY:"applied_successfully",APPLIED_UNSUCCESSFULLY:"applied_unsuccessfully",REVOKED:"revoked",BOUGHT:"bought",UPDATED:"updated",REQUEST_ADMIN:"enterprise_plan_requested",UNINSTALLED:"uninstalled",UNINSTALL_RESPONSE:"uninstall_response",ROUTE_VIEWED:"route_viewed",EMAIL_LOGIN_PERFORMED:"email_login_performed",EMAIL_SIGNUP_PERFORMED:"email_signup_performed",GMAIL_LOGIN_PERFORMED:"gmail_login_performed",GMAIL_SIGNUP_PERFORMED:"gmail_signup_performed",MICROSOFT_LOGIN_PERFORMED:"microsoft_login_performed",APPLE_LOGIN_PERFORMED:"apple_login_performed",REFERRAL_APPLIED:"referral_applied",REFERRAL_FAILED:"referral_failed",EMAIL_VERIFICATION_RESEND:"resend_email_verification",EMAIL_VERIFICATION_SUCCESSFUL:"email_verification_successful",EMAIL_VERIFICATION_FAILED:"email_verification_failed",TRAFFIC_TABLE_VIEWED:"traffic_table_viewed",TRAFFIC_TABLE_MODIFIED:"traffic_table_modified",APP_LAUNCHED:"app_launched",APP_CLOSED:"app_closed",APP_NOT_LAUNCHED:"app_not_launched",PROXY_SERVER:"proxy_server_started",BG_PROCESS:"bg_process_started",MANUAL_SETUP_MAC:"manual_setup_mac",DARK_MODE_ENABLED:"dark_mode_enabled",DARK_MODE_DISABLED:"dark_mode_disabled",UPGRADE_REQUIRED_FOR_DARK_MODE:"upgrade_required_for_dark_mode",SIMULATE_RULE:"simulate_rule",EXECUTION_LOGS:"execution_logs"},ATTR:{PAYMENT_MODE:"payment_mode",PLANNAME:"planname",PLAN_DURATION:"plan_duration",PLAN_ID:"plan_id",PLAN_START_DATE:"plan_startDate",PLAN_END_DATE:"plan_endDate",COUPON:"coupon",COUPON_VALUE:"coupon_value",LICENSE:"licensekey",COMPANY:"company",PROFILE:"profile",REMOTE_RULES_ENDPOINT:"remoteRulesEndpoint",REMOTE_RULES_FREQUENCY:"remoteRulesFrequency",NUM_RULES:"NUM_RULES",NUM_ACTIVE_RULES:"NUM_ACTIVE_RULES",NUM_GROUPS:"NUM_GROUPS",NUM_ACTIVE_GROUPS:"NUM_ACTIVE_GROUPS",NUM_SHARED_LISTS:"NUM_SHARED_LISTS",ONBOARDING_V1_DONE:"ONBOARDING_V1_DONE",SIGNUP_DATE:"SIGNUP_DATE",EXTENSION_INSTALL_DATE:"install_date",DESKTOP_INSTALL_DATE:"desktop_install_date",APP_MODE:"APP_MODE",EMAIL_TYPE:"EMAIL_TYPE",EMAIL_DOMAIN:"EMAIL_DOMAIN",IS_PREMIUM:"IS_PREMIUM",TRIAL_MODE_ENABLED:"trial_mode_enabled"},VALUES:{PAYPAL:"paypal"},GA_CUSTOM_DIMENSIONS:{USER_ID:"dimension1"},GA_CUSTOM_METRICS:{num_rules:"metric1"}},a.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},a.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists",FEEDBACK:"feedback",FILES:"files"},a.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",FETCH_USER_DETAILS:"fetchUserDetails",GETVALUE:"getValue",SETVALUE:"setValue"}},a.MESSAGE_HANDLER={ACTIONS:{SUBMIT_EVENT:"submitEvent",SUBMIT_ATTR:"submitAttr"},MESSAGE_TYPES:{EVENT:"event",ATTRIBUTE:"attribute"},SINKS:{CUSTOMERLY:"customerly"}},a.getSharedListURL=function(e,r){const t=r.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");return a.RULES_PAGE_URL+"#sharedList/"+e+"-"+t},a.getSharedListTimestamp=function(e){return e.split("-")[0]},a.fireAjax=function(e,r){return new Promise(((t,E)=>{const a=new XMLHttpRequest;a.open("GET",e,r),a.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?t(JSON.parse(this.responseText)):E())},a.send()}))},E?e.exports=a:Object.assign(window.RQ,a)},531:e=>{if(void 0===r)var r=!0;const t={browser:"chrome",storageType:"sync",contextMenuContexts:["browser_action"],collectExtUsageStats:!0,env:"dummy",WEB_URL:"http://localhost:3000",firebaseConfig:{apiKey:"xx",authDomain:"xx",databaseURL:"xx",projectId:"xx",storageBucket:"xx",messagingSenderId:"xx"},logLevel:"debug",stripeConfig:{publishableKey:"xx"},version:"22.1.18"};r?e.exports=t:window&&(window.RQ=window.RQ||{},window.RQ.configs=t)}},r={};function t(E){var a=r[E];if(void 0!==a)return a.exports;var s=r[E]={exports:{}};return e[E](s,s.exports,t),s.exports}t.d=(e,r)=>{for(var E in r)t.o(r,E)&&!t.o(e,E)&&Object.defineProperty(e,E,{enumerable:!0,get:r[E]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var E={};return(()=>{"use strict";t.r(E),t.d(E,{RuleMatcher:()=>S,getInstance:()=>N});const e=t(976),r="^/(.+)/(|i|g|ig|gi)$";function a(e){var t,E=function(e){return-1!==e.search(new RegExp(r))}(e);return E?(t=e.match(new RegExp(r)),new RegExp(t[1],t[2])):null}function s(r,t){const E=new URL(r);switch(t){case e.URL_COMPONENTS.URL:return r;case e.URL_COMPONENTS.PROTOCOL:return E.protocol;case e.URL_COMPONENTS.HOST:return E.host;case e.URL_COMPONENTS.PATH:return E.pathname;case e.URL_COMPONENTS.QUERY:return E.search;case e.URL_COMPONENTS.HASH:return E.hash}console.error("Invalid source key",r,t)}function o(e){var r={};return e&&"?"!==e?("?"===e[0]&&(e=e.substr(1)),e.split("&").forEach((function(e){var t=e.split("=")[0],E=e.split("=")[1];r[t]=r[t]||[],r[t].push(E)})),r):r}function l(e){var r=[];for(var t in e)(e[t]||[]).forEach((function(e){void 0===e?r.push(t):r.push(t+"="+e)}));return r.join("&")}function n(e){return e.split("#")[0].split("?")[0]}var i=t(976);const{RULE_TYPES:R}=i,u={};u.GENERATE_RANDOM_NUMBER={applicableRuleTypes:[R.HEADERS],name:"rq_rand",description:"Generate Random Number",usage:"rq_rand(4) (Max 8 digits allowed)",argument:"[0-9]+",getRandomNumber:function(e){return Math.ceil(Math.random()*Math.pow(10,e))},argumentEvaluator:function([e],r={}){const t=e[0];var E=Math.min(t,8),a=u.GENERATE_RANDOM_NUMBER.getRandomNumber(E);for(a=a.toString();a.length<E;)a+="0";return a}},u.GET_REQUEST_ORIGIN={applicableRuleTypes:[R.HEADERS],name:"rq_request_origin",description:"The origin request header",usage:"rq_request_origin()",argument:"",argumentEvaluator:function([e],r={}){return r&&r.requestOrigin?r.requestOrigin:"*"}};const _=t(976);class c{static populateMatchesInString(e,r){return r.forEach((function(r,t){0!==t&&(r=r||"",e=e.replace(new RegExp("[$]"+t,"g"),r))})),e}static checkRegexMatch(e,r,t){var E,s=a(e);return s&&-1!==r.search(s)?(E=s.exec(r)||[],c.populateMatchesInString(t,E)):null}static checkWildCardMatch(e,r,t){var E,a,s,o,l=[];for(r="|"+r+"|",E=(e="|"+e+"|").split("*"),a=0;a<E.length;a++){if(s=E[a],-1===(o=r.indexOf(s)))return null;0===o?l.push(""):l.push(r.substr(0,o)),r=r.slice(o+s.length)}return c.populateMatchesInString(t,l)}static matchUrlWithRuleSource(e,r,t){for(var E=e.operator,a=s(r,e.key),o=e.value,l=_.BLACK_LIST_DOMAINS||[],n=0;n<l.length;n++)if(-1!==r.indexOf(l[n]))return null;return c.matchUrlCriteria(a,E,o,t)}static matchUrlCriteria(e,r,t,E){const a=E||"";switch(r){case _.RULE_OPERATORS.EQUALS:if(t===e)return a;break;case _.RULE_OPERATORS.CONTAINS:if(-1!==e.indexOf(t))return a;break;case _.RULE_OPERATORS.MATCHES:return c.checkRegexMatch(t,e,a);case _.RULE_OPERATORS.WILDCARD_MATCHES:return c.checkWildCardMatch(t,e,a)}return null}static matchUrlWithRulePair(e,r,t){let E=void 0!==e.destination?e.destination:null,a=null;return c.matchRequestWithRuleSourceFilters(e.source.filters,t)&&(a=c.matchUrlWithRuleSource(e.source,r,E)),a}static matchUrlWithRulePairs(e,r,t){let E,a=r,s=null;for(E=0;E<e.length;E++)s=this.matchUrlWithRulePair(e[E],a,t),null!==s&&(a=s);return a!==r?a:null}static matchRequestWithRuleSourceFilters(e,r){if(!e||!r)return!0;for(let t in e){const E=e[t]||[];switch(t){case _.RULE_SOURCE_FILTER_TYPES.PAGE_URL:if(!E.every((e=>c.matchPageUrlFilter(e,r))))return!1;break;case _.RULE_SOURCE_FILTER_TYPES.REQUEST_METHOD:if(!E.some((e=>r.method===e)))return!1;break;case _.RULE_SOURCE_FILTER_TYPES.RESOURCE_TYPE:if(!E.some((e=>r.type===e)))return!1;break;case _.RULE_SOURCE_FILTER_TYPES.REQUEST_DATA:if(!this.isRequestPayloadFilterApplicable(r.requestData,E))return!1}}return!0}static matchPageUrlFilter(e,r){const t=r.pageUrl;return null!==c.matchUrlCriteria(t,e.operator,e.value)}static matchValueForPredefinedFunctions(e,r={}){if(!e)return e;for(const E in u){const a=u[E];if("function"!=typeof a.argumentEvaluator)return e;let s;if(a.argument.constructor===Array&&a.argument.length>0){s=a.argument[0];for(var t=1;t<a.argument.length;t++)s+="( *, *"+a.argument[t]+")?"}else s=a.argument;const o=a.pattern||new RegExp(a.name+"\\("+s+"\\)","ig");e=e.replace(o,(function(e){var t=e.match(new RegExp(a.name+"\\((.*)\\)","i")),E=[];return null!=t&&t.length>1?(t[1].split(",").forEach((function(e){E.push(e.trim())})),a.argumentEvaluator(E,r)):e}))}return e}static getHeaderModification(e,r){var t;return e===_.RULE_TYPES.USERAGENT?{source:r.source,target:_.HEADERS_TARGET.REQUEST,type:_.MODIFICATION_TYPES.REPLACE,header:_.HEADER_NAMES.USER_AGENT,value:r.userAgent}:((t=r).source=t.source||{},t)}static addHeader(e,r){e.push({name:r.name,value:r.value})}static removeHeader(e,r){for(var t=e.length-1;t>=0;t--){var E=e[t];E.name&&E.name.toLowerCase()===r.toLowerCase()&&e.splice(t,1)}}static modifyHeaderIfExists(e,r){for(var t=e.length-1;t>=0;t--){var E=e[t];if(E.name&&E.name.toLowerCase()===r.name.toLowerCase()){E.value=r.value;break}}}static replaceHeader(e,r){this.removeHeader(e,r.name),this.addHeader(e,r)}static isRequestPayloadFilterApplicable(e,r){if(!r)return!0;if("object"==typeof r&&0===Object.keys(r).length)return!0;if(!e||"object"!=typeof e)return!1;if(0===Object.keys(e).length)return!1;const t=(r=r||{})?.key;return!!t&&((e,r)=>{if(!r)return;const t=r.split(".");try{let r=0;for(r=0;r<t.length-1;r++)e=e[t[r]];return e[t[t.length-1]]}catch(e){console.log(e)}})(e,t)==r?.value}}const S=c,T={BLOCK:"block",REDIRECT:"redirect",ADD_DELAY:"add_delay"},A=t(976),O=t(976);class U{static process({rule:e,requestURL:r,details:t}){const E=r;let a=e.pairs,s=null,o=E;for(let e=0;e<a.length;e++)s=a[e],S.matchRequestWithRuleSourceFilters(s.source.filters,t)&&null!==S.matchUrlWithRuleSource(s.source,E)&&(o=this.applyQueryParamModifications(s.modifications,o));return o!==E?{action:"redirect",url:o}:null}static applyQueryParamModifications(e,r){let t=r;return e.forEach((function(e){t=U.applyQueryParamModification(e,t)})),t}static applyQueryParamModification(r,t){let E=t,a=n(t),i=s(t,O.URL_COMPONENTS.HASH),R=s(t,O.URL_COMPONENTS.QUERY),u=o(R),_=r.param,c=r.value;switch(r.type){case O.MODIFICATION_TYPES.ADD:E=function(r,t,E,a){let i=r,R=n(r),u=s(r,e.URL_COMPONENTS.HASH),_=s(r,e.URL_COMPONENTS.QUERY),c=o(_);return c[t]=a?[]:c[t]||[],c[t].push(E),_=l(c),i=_?R+"?"+_:R,i+=u,i}(E,_,c,"Overwrite"===r.actionWhenParamExists),"Ignore"===r.actionWhenParamExists&&(E=t);break;case O.MODIFICATION_TYPES.REMOVE:_ in u&&(delete u[_],R=l(u),E=R?a+"?"+R:a,E+=i);break;case O.MODIFICATION_TYPES.REMOVE_ALL:E=a+i}return E}}const L=U,I=t(976),d=t(976),P=t(976),p=t(976);function N(e){return class{static getRuleProcessorInstance(e){switch(e.toLowerCase()){case p.RULE_TYPES.REDIRECT.toLowerCase():return class{static process({rule:e,requestURL:r,details:t}){let E=S.matchUrlWithRulePairs(e.pairs,r,t);return E&&E!==r?{action:T.REDIRECT,url:E}:null}};case p.RULE_TYPES.REPLACE.toLowerCase():return class{static process({rule:e,requestURL:r,details:t}){let E,s=e.pairs,o=null,l=null,n=r;for(let e=0;e<s.length;e++)o=s[e],o.from=o.from||"",o.source&&!S.matchRequestWithRuleSourceFilters(o.source.filters,t)||o.source&&o.source.value&&null===S.matchUrlWithRuleSource(o.source,n)||(l=a(o.from),E=null!==l,l=l||o.from,(E&&n.match(l)||-1!==n.indexOf(l))&&(n=n.replace(l,o.to)));return n!==r?{action:"redirect",url:n}:null}};case p.RULE_TYPES.HEADERS.toLowerCase():return class{static process({rule:e,requestURL:r,details:t,originalHeaders:E,typeOfHeaders:a,payload:s={}}){let o=!1,l=e.pairs||[],n=[...E];for(let e=0;e<l.length;e++){let E=l[e],R=E;if(R.target&&R.header&&null!==S.matchUrlWithRulePair(E,r,t)&&(o=!0,!a||R.target===a)){var i=S.matchValueForPredefinedFunctions(R.value,s);switch(R.type){case A.MODIFICATION_TYPES.ADD:S.addHeader(n,{name:R.header,value:i});break;case A.MODIFICATION_TYPES.REMOVE:S.removeHeader(n,R.header);break;case A.MODIFICATION_TYPES.MODIFY:S.modifyHeaderIfExists(n,{name:R.header,value:i});break;case A.MODIFICATION_TYPES.REPLACE:S.replaceHeader(n,{name:R.header,value:i})}}}return o?{action:"modify_headers",newHeaders:n,originalHeaders:E}:null}};case p.RULE_TYPES.CANCEL.toLowerCase():return class{static process({rule:e,requestURL:r,details:t}){const E=r;let a=S.matchUrlWithRulePairs(e.pairs,E,t);return"string"==typeof a&&0===a.length?{action:T.BLOCK}:null}};case p.RULE_TYPES.QUERYPARAM.toLowerCase():return L;case p.RULE_TYPES.SCRIPT.toLowerCase():return class{static process({rule:e,requestURL:r}){var t=e.pairs[0];if(null===S.matchUrlWithRulePair(t,r))return null;var E=[],a=[];return t.libraries&&t.libraries.forEach((function(e){E.includes(e)||E.push(e)})),{action:"insert",data:{cssScripts:(a=a.concat(t.scripts||[])).filter((function(e){return e.codeType===I.SCRIPT_CODE_TYPES.CSS})),jsScripts:a.filter((function(e){return!e.codeType||e.codeType===I.SCRIPT_CODE_TYPES.JS})),libraries:E}}}};case p.RULE_TYPES.USERAGENT.toLowerCase():return class{static process({rule:e,requestURL:r,originalRequestHeaders:t=[],details:E={}}){console.log({rule:e,requestURL:r,originalRequestHeaders:t,details:E});let a=!1,s=[...t];const o=e.ruleType,l=e.pairs||[];let n=null;E&&E.pageDomain&&(n=E.pageDomain);for(let e=0;e<l.length;e++){let t=l[e],E=S.getHeaderModification(o,t);(!E.source.value||null!==S.matchUrlWithRuleSource(E.source,r)||o===d.RULE_TYPES.USERAGENT&&E.source.requestType===d.REQUEST_TYPES.MAIN_FRAME&&n&&null!==S.matchUrlWithRuleSource(E.source,n))&&(a=!0,S.replaceHeader(s,{name:E.header,value:E.value}))}return a?{action:"modify_user_agent",newRequestHeaders:s}:null}};case p.RULE_TYPES.DELAY.toLowerCase():return class{static process({rule:e,requestURL:r,details:t}){let E=e.pairs,a=null,s=r,o=null,l=null;for(let e=0;e<E.length;e++)if(a=E[e],S.matchRequestWithRuleSourceFilters(a.source.filters,t)&&null!==S.matchUrlWithRuleSource(a.source,r)&&(!a.source||!a.source.value||null!==S.matchUrlWithRuleSource(a.source,s)))return o=a.delay,l=a.delayType||P.DELAY_REQUEST_CONSTANTS.DELAY_TYPE.CLIENT_SIDE,{action:T.ADD_DELAY,delay:o,delayType:l};return null}};case p.RULE_TYPES.RESPONSE.toLowerCase():return class{static process({rule:e,requestURL:r,details:t}){var E=e.pairs[0];return null===S.matchUrlWithRulePair(E,r,t)?null:E.response&&E.response.type&&E.response.value?{action:"modify_response",response:E.response.value,responseType:E.response.type,statusCode:E.response.statusCode}:null}};default:return null}}}.getRuleProcessorInstance(e)}})(),E})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBRTdLLEVBQVUsUUFBRThLLElBQ2pDLElBQUluRCxFQUFRa0QsRUFBS2xELE1BQ2ZQLEVBQU8sS0FDUEgsRUFBZWpILEVBQ2Z5TixFQUFRLEtBQ1JDLEVBQVksS0FFZCxJQUFLLElBQUk5RCxFQUFJLEVBQUdBLEVBQUlqQyxFQUFNbEMsT0FBUW1FLElBSWhDLEdBSEF4QyxFQUFPTyxFQUFNaUMsR0FJVm1CLEVBQVd4RCxrQ0FDVkgsRUFBS0ksT0FBT0MsUUFDWnFELElBRTZELE9BQS9EQyxFQUFXckQsdUJBQXVCTixFQUFLSSxPQUFReEgsTUFPL0NvSCxFQUFLSSxTQUNMSixFQUFLSSxPQUFPeFcsT0FDcUQsT0FBakUrWixFQUFXckQsdUJBQXVCTixFQUFLSSxPQUFRUCxJQWVqRCxPQUxBd0csRUFBUXJHLEVBQUtxRyxNQUNiQyxFQUNFdEcsRUFBS3NHLFdBQ0wsRUFBVTdmLHdCQUF3Qk0sV0FBV0MsWUFFeEMsQ0FDTDhjLE9BQVEsWUFDUnVDLE1BQU9BLEVBQ1BDLFVBQVdBLEdBSWYsT0FBTyxPQ3hCTCxLQUFLLEVBQVV2Z0IsV0FBV1EsU0FBU2tjLGNBQ2pDLE9LN0JSLE1BQ0VqRSxnQkFBZSxLQUFFaUYsRUFBSSxXQUFFN0ssRUFBVSxRQUFFOEssSUFFakMsSUFBSTFELEVBQU95RCxFQUFLbEQsTUFBTSxHQUN0QixPQUFtRSxPQUEvRG9ELEVBQVdsRCxxQkFBcUJULEVBQU1wSCxFQUFZOEssR0FDN0MsS0FFSjFELEVBQUt1RyxVQUFhdkcsRUFBS3VHLFNBQVNuRixNQUFTcEIsRUFBS3VHLFNBQVMzYyxNQUdyRCxDQUNMa2EsT0FBUSxrQkFDUnlDLFNBQVV2RyxFQUFLdUcsU0FBUzNjLE1BQ3hCNGMsYUFBY3hHLEVBQUt1RyxTQUFTbkYsS0FDNUJxRixXQUFZekcsRUFBS3VHLFNBQVNFLFlBTm5CLE9Mc0JQLFFBQ0UsT0FBTyxRQzdCTix5QkFBOEN6RSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVxdWVzdGx5UnVsZVByb2Nlc3NvcnMvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4uLy4uL2NvbW1vbi9jb25zdGFudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVxdWVzdGx5UnVsZVByb2Nlc3NvcnMvLi4vLi4vY29uZmlnLmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9yZXF1ZXN0bHlSdWxlUHJvY2Vzc29ycy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcmVxdWVzdGx5UnVsZVByb2Nlc3NvcnMvLi4vLi4vY29tbW9uL2NvbXBvbmVudHMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcmVxdWVzdGx5UnVsZVByb2Nlc3NvcnMvLi9zcmMvcHJlZGVmaW5lZEZ1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9yZXF1ZXN0bHlSdWxlUHJvY2Vzc29ycy8uL3NyYy9SdWxlSGVscGVyLmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9yZXF1ZXN0bHlSdWxlUHJvY2Vzc29ycy8uL3NyYy9wcm9jZXNzb3JzL0hlYWRlcnNSdWxlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL3Byb2Nlc3NvcnMvUXVlcnlQYXJhbXNSdWxlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL3Byb2Nlc3NvcnMvU2NyaXB0UnVsZVByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9yZXF1ZXN0bHlSdWxlUHJvY2Vzc29ycy8uL3NyYy9wcm9jZXNzb3JzL1VzZXJBZ2VudFJ1bGVQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vcmVxdWVzdGx5UnVsZVByb2Nlc3NvcnMvLi9zcmMvcHJvY2Vzc29ycy9EZWxheVJlcXVlc3RSdWxlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL1J1bGVQcm9jZXNzb3JGYWN0b3J5LmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL3Byb2Nlc3NvcnMvUmVkaXJlY3RSdWxlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL3Byb2Nlc3NvcnMvUmVwbGFjZVJ1bGVQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vcmVxdWVzdGx5UnVsZVByb2Nlc3NvcnMvLi9zcmMvcHJvY2Vzc29ycy9CbG9ja1JlcXVlc3RSdWxlUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3JlcXVlc3RseVJ1bGVQcm9jZXNzb3JzLy4vc3JjL3Byb2Nlc3NvcnMvTW9kaWZ5UmVzcG9uc2VSdWxlUHJvY2Vzc29yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJlcXVlc3RseVJ1bGVQcm9jZXNzb3JzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJlcXVlc3RseVJ1bGVQcm9jZXNzb3JzXCJdID0gZmFjdG9yeSgpO1xufSkoZ2xvYmFsLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIvKipcbiAqIFRoaXMgbW9kdWxlIGlzIGRlZmluZSBhcyBDb21tb25KUyBNb2R1bGUuIFdlIHNob3VsZCBtb3ZlIGl0IHRvIEVTNiBNb2R1bGUgbGF0ZXIgb24gYW5kIGZpeCB0aGUgaW1wb3J0cy5cbiAqIFJpZ2h0IG5vdyB0aGUgaW1wb3J0cyBhcmUgZGVmaW5lZCB1c2luZyByZXF1aXJlLCBvbmNlIGNoYW5nZWQgdG8gRVM2IG1vZHVsZSB3ZSBjYW4gbW92ZSB0byBpbXBvcnQgbW9kdWxlXG4gKiBAVE9ETzogUmVtb3ZlIGRlcGVuZGVuY3kgb2YgY29uZmlncyBmcm9tIGNvbnN0YW50cy5cbiAqL1xuaWYgKHR5cGVvZiBpc1JlYWN0QXBwID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIHZhciBpc1JlYWN0QXBwID0gdHlwZW9mIHJlcXVpcmUgIT09IFwidW5kZWZpbmVkXCI7XG59XG5jb25zdCBDT05TVEFOVFMgPSB7fTtcbmxldCBDT05GSUdTO1xuXG5pZiAoaXNSZWFjdEFwcCkge1xuICBDT05GSUdTID0gcmVxdWlyZShcIi4uLy4uL2NvbmZpZ1wiKTtcbn0gZWxzZSB7XG4gIENPTkZJR1MgPSB3aW5kb3cuUlEuY29uZmlncztcbn1cblxuQ09OU1RBTlRTLkFQUF9NT0RFUyA9IHtcbiAgREVTS1RPUDogXCJERVNLVE9QXCIsXG4gIEVYVEVOU0lPTjogXCJFWFRFTlNJT05cIixcbiAgV09SRFBSRVNTOiBcIldPUkRQUkVTU1wiLFxuICBDTE9VREZMQVJFOiBcIkNMT1VERkxBUkVcIixcbn07XG5cbkNPTlNUQU5UUy5DT01QQU5ZX0lORk8gPSB7XG4gIFNVUFBPUlRfRU1BSUw6IFwiY29udGFjdEByZXF1ZXN0bHkuaW9cIixcbn07XG5cbkNPTlNUQU5UUy5WRVJTSU9OID0gMztcblxuQ09OU1RBTlRTLlRSQUNLX0VSUk9SUyA9IHRydWU7XG5cbi8vTm8uIG9mIGRheXMgdG8gc2hvdyBvbmJvYXJkaW5nIGFmdGVyIHNpZ25pbmcgdXBcbkNPTlNUQU5UUy5PTkJPQVJESU5HX0RBWVNfVE9fRVhQSVJFID0gNztcblxuLy9Oby4gb2YgdGFza3MgdG8gY29tcGxldGUgb24gb25ib2FyZGluZ1xuQ09OU1RBTlRTLk9OQk9BUkRJTkdfVEFTS1MgPSA1O1xuXG5DT05TVEFOVFMuRklMRV9QSUNLRVJfVVJMID0gXCIvbGlicmFyeS9maWxlcGlja2VyXCI7XG5cbkNPTlNUQU5UUy5WRVJTSU9OUyA9IHtcbiAgUkVQTEFDRV9SVUxFOiAyLFxufTtcblxuQ09OU1RBTlRTLkVOViA9IENPTkZJR1MuZW52O1xuXG5DT05TVEFOVFMuUFVCTElDX05BTUVTUEFDRSA9IFwiX19SRVFVRVNUTFlfX1wiO1xuXG4vLyBVcmwgd2hpY2ggZ2V0cyBvcGVuZWQgd2hlbiBVc2VyIGNsaWNrcyBvbiBicm93c2VyQWN0aW9uIChyZXF1ZXN0bHkgaWNvbikgaW4gdG9vbGJhclxuQ09OU1RBTlRTLlJVTEVTX1BBR0VfVVJMID0gQ09ORklHUy5XRUJfVVJMICsgXCIvcnVsZXMvXCI7XG5cbkNPTlNUQU5UUy5SVUxFU19QQUdFX1VSTF9QQVRURVJOID0gQ09OU1RBTlRTLlJVTEVTX1BBR0VfVVJMICsgXCIqXCI7XG5cbkNPTlNUQU5UUy5QUklDSU5HX1BBR0VfVVJMID0gQ09ORklHUy5XRUJfVVJMICsgXCIvcHJpY2luZy9cIjtcblxuQ09OU1RBTlRTLkdPT0RCWUVfUEFHRV9VUkwgPSBDT05GSUdTLldFQl9VUkwgKyBcIi9nb29kYnllL1wiO1xuXG4vLyBVUkwgRm9yIERlbGF5IFJlcXVlc3QgQVBJXG5DT05TVEFOVFMuREVMQVlfQVBJX1VSTCA9IENPTkZJR1MuV0VCX1VSTCArIFwiL2RlbGF5L1wiO1xuXG4vLyBVUkwgZm9yIE1vY2sgU2VydmVyXG5DT05TVEFOVFMuTU9DS19VUkwgPSBDT05GSUdTLldFQl9VUkwgKyBcIi9tb2NrL1wiO1xuXG5DT05TVEFOVFMuREVTS1RPUF9BUFBfVVJMID0gQ09ORklHUy5XRUJfVVJMICsgXCIvZGVza3RvcC9pbnRlcmNlcHQtdHJhZmZpY1wiO1xuXG4vKipcbiAqIFdlIGFyZSBjYWxsaW5nIHRoZW0gYXMgQkxBQ0tfTElTVF9ET01BSU5TXG4gKiBob3dldmVyIHRoZSB1c2FnZSBpcyBjb2RlIGlzIGFzIHRoZSBVUkwgY29udGFpbmluZyB0aGVzZSBzdWJzdHJpbmdzLCBXZSBkb24ndCB0b3VjaCB0aG9zZSByZXF1ZXN0c1xuICovXG5DT05TVEFOVFMuQkxBQ0tfTElTVF9ET01BSU5TID0gW1xuICBcInJlcXVlc3RseS5pblwiLFxuICBcInJlcXVlc3RseS5pb1wiLFxuICBcInJxLmluXCIsXG4gIFwicnEuaW9cIixcbiAgXCJfX3JxXCIsXG5dO1xuXG5DT05TVEFOVFMuU1RSSU5HX0NPTlNUQU5UUyA9IHtcbiAgU0xBU0g6IFwiL1wiLFxufTtcblxuQ09OU1RBTlRTLkxJTUlUUyA9IHtcbiAgTlVNQkVSX1NIQVJFRF9MSVNUUzogMTAsXG4gIE5VTUJFUl9FWEVDVVRJT05fTE9HUzogMjUsXG59O1xuXG5DT05TVEFOVFMuREVGQVVMVFMgPSB7XG4gIEFQUF9JTklUX1RJTUVPVVQ6IDUwMDAsXG59O1xuXG5DT05TVEFOVFMuT0JKRUNUX1RZUEVTID0ge1xuICBHUk9VUDogXCJncm91cFwiLFxuICBSVUxFOiBcInJ1bGVcIixcbn07XG5cbkNPTlNUQU5UUy5SVUxFX1RZUEVTID0ge1xuICBSRURJUkVDVDogXCJSZWRpcmVjdFwiLFxuICBDQU5DRUw6IFwiQ2FuY2VsXCIsXG4gIFJFUExBQ0U6IFwiUmVwbGFjZVwiLFxuICBIRUFERVJTOiBcIkhlYWRlcnNcIixcbiAgVVNFUkFHRU5UOiBcIlVzZXJBZ2VudFwiLFxuICBTQ1JJUFQ6IFwiU2NyaXB0XCIsXG4gIFFVRVJZUEFSQU06IFwiUXVlcnlQYXJhbVwiLFxuICBSRVNQT05TRTogXCJSZXNwb25zZVwiLFxuICBERUxBWTogXCJEZWxheVwiLFxufTtcblxuQ09OU1RBTlRTLkRFTEFZX1JFUVVFU1RfQ09OU1RBTlRTID0ge1xuICBERUxBWV9QQVJBTV9OQU1FOiBcImRlbGF5XCIsIC8vIHN0cmluZyB0byBhZGQgYXMgcXVlcnkgcGFyYW1OYW1lXG4gIERFTEFZX1BBUkFNX1ZBTFVFOiBcInRydWVcIiwgLy8gc3RyaW5nIHRvIGFkZCBhcyBxdWVyeSBwYXJhbVZhbHVlXG4gIE1JTl9ERUxBWV9WQUxVRTogMSxcbiAgTUFYX0RFTEFZX1ZBTFVFX05PTl9YSFI6IDEwMDAwLFxuICBNQVhfREVMQVlfVkFMVUVfWEhSOiA1MDAwLFxuICBERUxBWV9UWVBFOiB7XG4gICAgQ0xJRU5UX1NJREU6IFwiY2xpZW50U2lkZURlbGF5XCIsXG4gICAgU0VSVkVSX1NJREU6IFwic2VydmVyU2lkZURlbGF5XCIsXG4gIH0sXG4gIFJFUVVFU1RfVFlQRToge1xuICAgIFhIUjogXCJ4bWxodHRwcmVxdWVzdFwiLFxuICB9LFxuICBNRVRIT0RfVFlQRToge1xuICAgIEdFVDogXCJHRVRcIixcbiAgfSxcbn07XG5cbkNPTlNUQU5UUy5PQkpFQ1RfRk9STUFUX0tFWVMgPSB7XG4gIENSRUFUSU9OX0RBVEU6IFwiY3JlYXRpb25EYXRlXCIsXG4gIE5BTUU6IFwibmFtZVwiLFxuICBJRDogXCJpZFwiLFxuICBSVUxFX1RZUEU6IFwicnVsZVR5cGVcIixcbiAgU1RBVFVTOiBcInN0YXR1c1wiLFxuICBPQkpFQ1RfVFlQRTogXCJvYmplY3RUeXBlXCIsXG4gIEdST1VQX0lEOiBcImdyb3VwSWRcIixcbiAgSVNfRkFWT1VSSVRFOiBcImlzRmF2b3VyaXRlXCIsXG59O1xuXG5DT05TVEFOVFMuSEVBREVSX05BTUVTID0ge1xuICBVU0VSX0FHRU5UOiBcIlVzZXItQWdlbnRcIixcbn07XG5cbkNPTlNUQU5UUy5HUk9VUF9TVEFUVVMgPSB7XG4gIEFDVElWRTogXCJBY3RpdmVcIixcbiAgSU5BQ1RJVkU6IFwiSW5hY3RpdmVcIixcbn07XG5cbkNPTlNUQU5UUy5SVUxFX1NUQVRVUyA9IHtcbiAgQUNUSVZFOiBcIkFjdGl2ZVwiLFxuICBJTkFDVElWRTogXCJJbmFjdGl2ZVwiLFxufTtcblxuQ09OU1RBTlRTLlNVQlNDUklQVElPTl9TVEFUVVMgPSB7XG4gIEFDVElWRTogXCJhY3RpdmVcIixcbiAgQ0FOQ0VMTEVEOiBcImNhbmNlbGxlZFwiLFxufTtcblxuQ09OU1RBTlRTLlJVTEVfS0VZUyA9IHtcbiAgVVJMOiBcIlVybFwiLFxuICBIT1NUOiBcImhvc3RcIixcbiAgUEFUSDogXCJwYXRoXCIsXG4gIEhFQURFUjogXCJIZWFkZXJcIixcbiAgT1ZFUldSSVRFOiBcIk92ZXJ3cml0ZVwiLFxuICBJR05PUkU6IFwiSWdub3JlXCIsXG4gIFBBUkFNOiBcInBhcmFtXCIsXG4gIFZBTFVFOiBcInZhbHVlXCIsXG59O1xuXG5DT05TVEFOVFMuUEFUSF9GUk9NX1BBSVIgPSB7XG4gIFJVTEVfS0VZUzogXCJzb3VyY2Uua2V5XCIsXG4gIFJVTEVfT1BFUkFUT1JTOiBcInNvdXJjZS5vcGVyYXRvclwiLFxuICBTQ1JJUFRfTElCUkFSSUVTOiBcImxpYnJhcmllc1wiLFxuICBTT1VSQ0VfUEFHRV9VUkxfT1BFUkFUT1I6IFwic291cmNlLmZpbHRlcnMucGFnZVVybC5vcGVyYXRvclwiLFxuICBTT1VSQ0VfUEFHRV9VUkxfVkFMVUU6IFwic291cmNlLmZpbHRlcnMucGFnZVVybC52YWx1ZVwiLFxuICBTT1VSQ0VfUkVTT1VSQ0VfVFlQRTogXCJzb3VyY2UuZmlsdGVycy5yZXNvdXJjZVR5cGVcIixcbiAgU09VUkNFX1JFUVVFU1RfTUVUSE9EOiBcInNvdXJjZS5maWx0ZXJzLnJlcXVlc3RNZXRob2RcIixcbiAgU09VUkNFX1JFUVVFU1RfUEFZTE9BRF9LRVk6IFwic291cmNlLmZpbHRlcnMucmVxdWVzdFBheWxvYWQua2V5XCIsXG4gIFNPVVJDRV9SRVFVRVNUX1BBWUxPQURfVkFMVUU6IFwic291cmNlLmZpbHRlcnMucmVxdWVzdFBheWxvYWQudmFsdWVcIixcbn07XG5cbi8vYXV0by1zdWdnZXN0aW9uIGZvciB0aGUgaGVhZGVyIHJ1bGVcbkNPTlNUQU5UUy5IRUFERVJfU1VHR0VTVElPTlMgPSB7XG4gIFJlcXVlc3Q6IFtcbiAgICB7IGxhYmVsOiBcImF1dGhvcml6YXRpb25cIiwgdmFsdWU6IFwiYXV0aG9yaXphdGlvblwiIH0sXG4gICAgeyBsYWJlbDogXCJjYWNoZS1jb250cm9sXCIsIHZhbHVlOiBcImNhY2hlLWNvbnRyb2xcIiB9LFxuICAgIHsgbGFiZWw6IFwiY29va2llXCIsIHZhbHVlOiBcImNvb2tpZVwiIH0sXG4gICAgeyBsYWJlbDogXCJjb25uZWN0aW9uXCIsIHZhbHVlOiBcImNvbm5lY3Rpb25cIiB9LFxuICAgIHsgbGFiZWw6IFwib3JpZ2luXCIsIHZhbHVlOiBcIm9yaWdpblwiIH0sXG4gICAgeyBsYWJlbDogXCJ1c2VyLWFnZW50XCIsIHZhbHVlOiBcInVzZXItYWdlbnRcIiB9LFxuICBdLFxuICBSZXNwb25zZTogW1xuICAgIHsgbGFiZWw6IFwiYWdlXCIsIHZhbHVlOiBcImFnZVwiIH0sXG4gICAge1xuICAgICAgbGFiZWw6IFwiYWNjZXNzLWNvbnRyb2wtYWxsb3ctb3JpZ2luXCIsXG4gICAgICB2YWx1ZTogXCJhY2Nlc3MtY29udHJvbC1hbGxvdy1vcmlnaW5cIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiBcImFjY2Vzcy1jb250cm9sLWFsbG93LWNyZWRlbnRpYWxzXCIsXG4gICAgICB2YWx1ZTogXCJhY2Nlc3MtY29udHJvbC1hbGxvdy1jcmVkZW50aWFsc1wiLFxuICAgIH0sXG4gICAgeyBsYWJlbDogXCJleHBpcmVzXCIsIHZhbHVlOiBcImV4cGlyZXNcIiB9LFxuICAgIHsgbGFiZWw6IFwic2VydmVyXCIsIHZhbHVlOiBcInNlcnZlclwiIH0sXG4gICAgeyBsYWJlbDogXCJ4LWZyYW1lLW9wdGlvbnNcIiwgdmFsdWU6IFwieC1mcmFtZS1vcHRpb25zXCIgfSxcbiAgXSxcbn07XG5cbkNPTlNUQU5UUy5VUkxfQ09NUE9ORU5UUyA9IHtcbiAgUFJPVE9DT0w6IFwiUHJvdG9jb2xcIixcbiAgVVJMOiBcIlVybFwiLFxuICBIT1NUOiBcImhvc3RcIixcbiAgUEFUSDogXCJwYXRoXCIsXG4gIFFVRVJZOiBcInF1ZXJ5XCIsXG4gIEhBU0g6IFwiaGFzaFwiLFxufTtcblxuQ09OU1RBTlRTLlJVTEVfT1BFUkFUT1JTID0ge1xuICBFUVVBTFM6IFwiRXF1YWxzXCIsXG4gIENPTlRBSU5TOiBcIkNvbnRhaW5zXCIsXG4gIE1BVENIRVM6IFwiTWF0Y2hlc1wiLFxuICBXSUxEQ0FSRF9NQVRDSEVTOiBcIldpbGRjYXJkX01hdGNoZXNcIixcbn07XG5cbkNPTlNUQU5UUy5SVUxFX1NPVVJDRV9GSUxURVJfVFlQRVMgPSB7XG4gIFBBR0VfVVJMOiBcInBhZ2VVcmxcIixcbiAgUkVTT1VSQ0VfVFlQRTogXCJyZXNvdXJjZVR5cGVcIixcbiAgUkVRVUVTVF9NRVRIT0Q6IFwicmVxdWVzdE1ldGhvZFwiLFxuICBSRVFVRVNUX0RBVEE6IFwicmVxdWVzdFBheWxvYWRcIixcbn07XG5cbkNPTlNUQU5UUy5NT0RJRklDQVRJT05fVFlQRVMgPSB7XG4gIEFERDogXCJBZGRcIixcbiAgUkVNT1ZFOiBcIlJlbW92ZVwiLFxuICBSRU1PVkVfQUxMOiBcIlJlbW92ZSBBbGxcIixcbiAgTU9ESUZZOiBcIk1vZGlmeVwiLFxuICBSRVBMQUNFOiBcIlJlcGxhY2VcIixcbn07XG5cbkNPTlNUQU5UUy5ORUVEX0hFTFBfUVVFUllfVFlQRVMgPSB7XG4gIEZFRURCQUNLOiBcIkZlZWRiYWNrXCIsXG4gIEJVRzogXCJCdWdcIixcbiAgUVVFU1RJT046IFwiUXVlc3Rpb25cIixcbiAgRkVBVFVSRV9SRVFVRVNUOiBcIkZlYXR1cmVSZXF1ZXN0XCIsXG59O1xuXG5DT05TVEFOVFMuQ0xJRU5UX01FU1NBR0VTID0ge1xuICBHRVRfU0NSSVBUX1JVTEVTOiBcImdldFNjcmlwdFJ1bGVzXCIsXG4gIERPX1NFVFVQX1JFU1BPTlNFX1JVTEVfSEFORExFUjogXCJkb1NldHVwUmVzcG9uc2VSdWxlSGFuZGxlclwiLFxuICBHRVRfVVNFUl9BR0VOVF9SVUxFX1BBSVJTOiBcImdldFVzZXJBZ2VudFJ1bGVQYWlyc1wiLFxuICBPVkVSUklERV9SRVNQT05TRTogXCJvdmVycmlkZVJlc3BvbnNlXCIsXG4gIE5PVElGWV9SVUxFU19BUFBMSUVEOiBcIm5vdGlmeVJ1bGVzQXBwbGllZFwiLFxufTtcblxuQ09OU1RBTlRTLkVYVEVOU0lPTl9NRVNTQUdFUyA9IHtcbiAgRk9DVVNfVEFCOiBcImZvY3VzVGFiXCIsXG4gIEdFVF9GVUxMX0xPR1M6IFwiZ2V0RnVsbExvZ3NcIixcbiAgQ0xFQVJfTE9HU19GT1JfVEFCOiBcImNsZWFyTG9nc0ZvclRhYlwiLFxuICBDTEVBUl9MT0dTX0ZPUl9ET01BSU46IFwiY2xlYXJMb2dzRm9yRG9tYWluXCIsXG4gIEdFVF9GQVZPVVJJVEVfUlVMRVM6IFwiZ2V0RmF2b3VyaXRlUnVsZXNcIixcbiAgR0VUX0ZMQUdTOiBcImdldEZsYWdzXCIsXG59O1xuXG5DT05TVEFOVFMuSEVBREVSU19UQVJHRVQgPSB7XG4gIFJFUVVFU1Q6IFwiUmVxdWVzdFwiLFxuICBSRVNQT05TRTogXCJSZXNwb25zZVwiLFxufTtcblxuQ09OU1RBTlRTLlJFUVVFU1RfVFlQRVMgPSB7XG4gIE1BSU5fRlJBTUU6IFwibWFpbkZyYW1lXCIsXG4gIFBBR0VfUkVRVUVTVDogXCJwYWdlUmVxdWVzdFwiLFxufTtcblxuQ09OU1RBTlRTLlNDUklQVF9UWVBFUyA9IHtcbiAgVVJMOiBcInVybFwiLFxuICBDT0RFOiBcImNvZGVcIixcbn07XG5cbkNPTlNUQU5UUy5TQ1JJUFRfQ09ERV9UWVBFUyA9IHtcbiAgSlM6IFwianNcIixcbiAgQ1NTOiBcImNzc1wiLFxufTtcblxuQ09OU1RBTlRTLlNDUklQVF9MT0FEX1RJTUUgPSB7XG4gIEJFRk9SRV9QQUdFX0xPQUQ6IFwiYmVmb3JlUGFnZUxvYWRcIixcbiAgQUZURVJfUEFHRV9MT0FEOiBcImFmdGVyUGFnZUxvYWRcIixcbn07XG5cbkNPTlNUQU5UUy5TQ1JJUFRfTElCUkFSSUVTID0ge1xuICBKUVVFUlk6IHsgbmFtZTogXCJqUXVlcnlcIiwgc3JjOiBcImh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjIuNC5qc1wiIH0sXG4gIFVOREVSU0NPUkU6IHtcbiAgICBuYW1lOiBcIlVuZGVyc2NvcmVcIixcbiAgICBzcmM6XG4gICAgICBcImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3VuZGVyc2NvcmUuanMvMS44LjMvdW5kZXJzY29yZS1taW4uanNcIixcbiAgfSxcbn07XG5cbkNPTlNUQU5UUy5SRVNQT05TRV9CT0RZX1RZUEVTID0ge1xuICBTVEFUSUM6IFwic3RhdGljXCIsXG4gIENPREU6IFwiY29kZVwiLFxuICBMT0NBTF9GSUxFOiBcImxvY2FsX2ZpbGVcIixcbn07XG5cbkNPTlNUQU5UUy5SRVNQT05TRV9DT0RFUyA9IHtcbiAgTk9UX0ZPVU5EOiA0MDQsXG59O1xuXG5DT05TVEFOVFMuU1RPUkFHRV9LRVlTID0ge1xuICBSRVFVRVNUTFlfU0VUVElOR1M6IFwicnFfc2V0dGluZ3NcIixcbiAgVVNFUl9JTkZPOiBcInVzZXJfaW5mb1wiLFxuICBMQVRFU1RfTk9USUZJQ0FUSU9OX1JFQURfQllfVVNFUjogXCJsYXRlc3ROb3RpZmljYXRpb25SZWFkSWRcIixcbn07XG5cbkNPTlNUQU5UUy5NRVNTQUdFUyA9IHtcbiAgREVMRVRFX0lURU1TX05PX1NFTEVDVElPTl9XQVJOSU5HOlxuICAgIFwiUGxlYXNlIHNlbGVjdCBvbmUgb3IgbW9yZSBydWxlcyB0byBkZWxldGUuXCIsXG4gIERFTEVURV9JVEVNUzogXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoZSBzZWxlY3RlZCBpdGVtcz9cIixcbiAgREVMRVRFX0dST1VQX1dJVEhfUlVMRVNfV0FSTklORzpcbiAgICBcIlRoZXJlIGFyZSBzb21lIHJ1bGVzIGNvbnRhaW5lZCBpbiB0aGlzIGdyb3VwLiBQbGVhc2UgZGVsZXRlIG9yIHVuZ3JvdXAgdGhlbSBiZWZvcmUgZGVsZXRpbmcgdGhlIGdyb3VwLlwiLFxuICBERUxFVEVfR1JPVVA6IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgZ3JvdXA/XCIsXG4gIFVOR1JPVVBfSVRFTVNfTk9fU0VMRUNUSU9OX1dBUk5JTkc6XG4gICAgXCJQbGVhc2Ugc2VsZWN0IG9uZSBvciBtb3JlIHJ1bGVzIHRvIHVuZ3JvdXAuXCIsXG4gIFVOR1JPVVBfSVRFTVM6IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHVuZ3JvdXAgdGhlIHNlbGVjdGVkIGl0ZW1zP1wiLFxuICBTSUdOX0lOX1RPX1ZJRVdfU0hBUkVEX0xJU1RTOiBcIlBsZWFzZSBsb2dpbiB0byB2aWV3IHlvdXIgU2hhcmVkIExpc3RzLlwiLFxuICBTSUdOX0lOX1RPX0NSRUFURV9TSEFSRURfTElTVFM6IFwiUGxlYXNlIGxvZ2luIHRvIHNoYXJlIHRoZSBzZWxlY3RlZCBydWxlc1wiLFxuICBTSUdOX0lOX1RPX1NVQk1JVF9RVUVSWTogXCJQbGVhc2UgbG9naW4gdG8gY29udGFjdCBvdXIgc3VwcG9ydCB0ZWFtLlwiLFxuICBFUlJPUl9BVVRIRU5USUNBVElPTjpcbiAgICBcIlJlY2VpdmVkIHNvbWUgZXJyb3IgaW4gYXV0aGVudGljYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIhIVwiLFxuICBTSEFSRURfTElTVFNfTElNSVRfUkVBQ0hFRDpcbiAgICBcIllvdSBjYW4gbm90IGNyZWF0ZSBtb3JlIHRoYW5cIiArXG4gICAgQ09OU1RBTlRTLkxJTUlUUy5OVU1CRVJfU0hBUkVEX0xJU1RTICtcbiAgICBcInNoYXJlZCBsaXN0c1wiLFxuICBFUlJPUl9UQUJfRk9DVVM6IFwiVGhlIHRhYiBjYW5ub3QgYmUgZm9jdXNlZCwgYXMgaXQgbWlnaHQgaGF2ZSBiZWVuIGNsb3NlZC5cIixcbiAgREVBQ1RJVkFURV9SRVFVRVNUTFlfTUVOVV9PUFRJT046IFwiRGVhY3RpdmF0ZSBSZXF1ZXN0bHlcIixcbn07XG5cbkNPTlNUQU5UUy5SRVNPVVJDRVMgPSB7XG4gIEVYVEVOU0lPTl9JQ09OOiBcIi9yZXNvdXJjZXMvaW1hZ2VzLzQ4eDQ4LnBuZ1wiLFxuICBFWFRFTlNJT05fSUNPTl9HUkVZU0NBTEU6IFwiL3Jlc291cmNlcy9pbWFnZXMvNDh4NDhfZ3JleXNjYWxlLnBuZ1wiLFxuICBFWFRFTlNJT05fSUNPTl9HUkVFTjogXCIvcmVzb3VyY2VzL2ltYWdlcy80OHg0OF9ncmVlbi5wbmdcIixcbn07XG5cbkNPTlNUQU5UUy5HQV9FVkVOVFMgPSB7XG4gIENBVEVHT1JJRVM6IHtcbiAgICBSVUxFUzogXCJydWxlc1wiLFxuICAgIFJVTEU6IFwicnVsZVwiLFxuICAgIEdST1VQOiBcImdyb3VwXCIsXG4gICAgVVNFUjogXCJ1c2VyXCIsXG4gICAgU0hBUkVEX0xJU1Q6IFwic2hhcmVkIGxpc3RcIixcbiAgICBUUkFTSDogXCJ0cmFzaFwiLFxuICAgIFJVTEVfTE9HUzogXCJydWxlIGxvZ3NcIixcbiAgICBFWFRFTlNJT046IFwiZXh0ZW5zaW9uXCIsXG4gICAgSU5fQVBQX05PVElGSUNBVElPTjogXCJJbkFwcE5vdGlmaWNhdGlvblwiLFxuICAgIE5FRURfSEVMUF9GRUFUVVJFOiBcIm5lZWQgaGVscCBmZWF0dXJlXCIsXG4gICAgUFJJQ0lORzogXCJwcmljaW5nXCIsXG4gICAgTElDRU5TRTogXCJsaWNlbnNlXCIsXG4gICAgTElCUkFSWTogXCJsaWJyYXJ5XCIsXG4gICAgVU5MT0NLOiBcInVubG9ja1wiLFxuICAgIFJFTU9URV9SVUxFUzogXCJyZW1vdGVSdWxlc1wiLFxuICAgIFNQT05TT1JfU0lERVJBSUw6IFwic3BvbnNvcl9zaWRlcmFpbFwiLFxuICAgIExPR0lOOiBcImxvZ2luXCIsXG4gICAgU0lHTlVQOiBcInNpZ251cFwiLFxuICAgIFJFRkVSUkFMOiBcInJlZmVycmFsXCIsXG4gICAgUEFHRV9WSVNJVFM6IFwicGFnZSB2aXNpdHNcIixcbiAgICBSRVFVRVNUX1VQR1JBREU6IFwicmVxdWVzdCB1cGdyYWRlXCIsXG4gICAgTUFSS0VUUExBQ0U6IFwibWFya2V0cGxhY2VcIixcbiAgICBDSEVDS09VVDogXCJjaGVja291dCBwYWdlXCIsXG4gICAgVEVBTVM6IFwidGVhbXMgcGFnZVwiLFxuICAgIE9OQk9BUkRJTkc6IFwib25ib2FyZGluZyBwYWdlXCIsXG4gICAgUlVMRV9QQUlSUzogXCJydWxlIHBhaXJzXCIsXG4gICAgREVTS1RPUF9BUFA6IFwiZGVza3RvcCBhcHBcIixcbiAgfSxcbiAgQUNUSU9OUzoge1xuICAgIE1PRElGSUVEOiBcIm1vZGlmaWVkXCIsXG4gICAgQ1JFQVRFRDogXCJjcmVhdGVkXCIsXG4gICAgREVMRVRFRDogXCJkZWxldGVkXCIsXG4gICAgQUNUSVZBVEVEOiBcImFjdGl2YXRlZFwiLFxuICAgIERFQUNUSVZBVEVEOiBcImRlYWN0aXZhdGVkXCIsXG4gICAgSU1QT1JURUQ6IFwiaW1wb3J0ZWRcIixcbiAgICBFWFBPUlRFRDogXCJleHBvcnRlZFwiLFxuICAgIExJTUlUX1JFQUNIRUQ6IFwibGltaXQgcmVhY2hlZFwiLFxuICAgIEFVVEhFTlRJQ0FURUQ6IFwiYXV0aGVudGljYXRlZFwiLFxuICAgIFZJRVdFRDogXCJ2aWV3ZWRcIixcbiAgICBDTElDS0VEOiBcImNsaWNrZWRcIixcbiAgICBDT1BJRUQ6IFwiZHVwbGljYXRlZFwiLFxuICAgIE1BUktFRF9GQVZPVVJJVEU6IFwibWFya2VkIGZhdm91cml0ZVwiLFxuICAgIFVOTUFSS0VEX0ZBVk9VUklURTogXCJ1bm1hcmtlZCBmYXZvdXJpdGVcIixcbiAgICBXT1JLRkxPV19TVEFSVEVEOiBcIndvcmtmbG93IHN0YXJ0ZWRcIixcbiAgICBBTFJFQURZX0xPR0lOOiBcImFscmVhZHkgbG9naW5cIixcbiAgICBMT0dJTl9SRVFVRVNURUQ6IFwibG9naW4gcmVxdWVzdGVkXCIsXG4gICAgTE9HSU5fRE9ORTogXCJsb2dpbiBkb25lXCIsXG4gICAgTE9HSU5fUkVKRUNURUQ6IFwibG9naW4gcmVqZWN0ZWRcIixcbiAgICBGT1JNX1NVQk1JVFRFRDogXCJmb3JtIHN1Ym1pdHRlZFwiLFxuICAgIEZPUk1fUkVKRUNURUQ6IFwiZm9ybSByZWplY3RlZFwiLFxuICAgIElOVkFMSURfU1VCTUlUOiBcImludmFsaWQgc3VibWl0XCIsXG4gICAgR1JPVVBFRDogXCJncm91cGVkXCIsXG4gICAgVU5HUk9VUEVEOiBcInVuZ3JvdXBlZFwiLFxuICAgIFNIQVJFRDogXCJzaGFyZWRcIixcbiAgICBFUlJPUjogXCJlcnJvciBvY2N1cmVkXCIsXG4gICAgVEFTS19DT01QTEVURUQ6IFwidGFzayBjb21wbGV0ZWRcIixcbiAgICBCQUNLVVBfQ1JFQVRFRDogXCJiYWNrdXAgY3JlYXRlZFwiLFxuICAgIEJBQ0tVUF9VU0VEOiBcImJhY2t1cCB1c2VkXCIsXG5cbiAgICBDQVJEX0VSUk9SOiBcImNhcmQgZXJyb3JcIixcbiAgICBDQVJEX0FDQ0VQVEVEOiBcImNhcmQgYWNjZXB0ZWRcIixcbiAgICBDQVJEX0VOVEVSRUQ6IFwiY2FyZCBudW0gYW5kIGN2IGVudGVyZWRcIixcblxuICAgIENVUlJFTkNZX0NIQU5HRTogXCJjdXJyZW5jeV9jaGFuZ2VkXCIsXG4gICAgRFVSQVRJT05fQ0hBTkdFOiBcImR1cmF0aW9uX2NoYW5nZWRcIixcbiAgICBBUFBMSUVEX1NVQ0NFU1NGVUxMWTogXCJhcHBsaWVkX3N1Y2Nlc3NmdWxseVwiLFxuICAgIEFQUExJRURfVU5TVUNDRVNTRlVMTFk6IFwiYXBwbGllZF91bnN1Y2Nlc3NmdWxseVwiLFxuXG4gICAgUkVWT0tFRDogXCJyZXZva2VkXCIsXG4gICAgQk9VR0hUOiBcImJvdWdodFwiLFxuICAgIFVQREFURUQ6IFwidXBkYXRlZFwiLFxuICAgIFJFUVVFU1RfQURNSU46IFwiZW50ZXJwcmlzZV9wbGFuX3JlcXVlc3RlZFwiLFxuXG4gICAgVU5JTlNUQUxMRUQ6IFwidW5pbnN0YWxsZWRcIixcbiAgICBVTklOU1RBTExfUkVTUE9OU0U6IFwidW5pbnN0YWxsX3Jlc3BvbnNlXCIsXG5cbiAgICBST1VURV9WSUVXRUQ6IFwicm91dGVfdmlld2VkXCIsXG4gICAgRU1BSUxfTE9HSU5fUEVSRk9STUVEOiBcImVtYWlsX2xvZ2luX3BlcmZvcm1lZFwiLFxuICAgIEVNQUlMX1NJR05VUF9QRVJGT1JNRUQ6IFwiZW1haWxfc2lnbnVwX3BlcmZvcm1lZFwiLFxuICAgIEdNQUlMX0xPR0lOX1BFUkZPUk1FRDogXCJnbWFpbF9sb2dpbl9wZXJmb3JtZWRcIixcbiAgICBHTUFJTF9TSUdOVVBfUEVSRk9STUVEOiBcImdtYWlsX3NpZ251cF9wZXJmb3JtZWRcIixcbiAgICBNSUNST1NPRlRfTE9HSU5fUEVSRk9STUVEOiBcIm1pY3Jvc29mdF9sb2dpbl9wZXJmb3JtZWRcIixcbiAgICBBUFBMRV9MT0dJTl9QRVJGT1JNRUQ6IFwiYXBwbGVfbG9naW5fcGVyZm9ybWVkXCIsXG5cbiAgICBSRUZFUlJBTF9BUFBMSUVEOiBcInJlZmVycmFsX2FwcGxpZWRcIixcbiAgICBSRUZFUlJBTF9GQUlMRUQ6IFwicmVmZXJyYWxfZmFpbGVkXCIsXG5cbiAgICBFTUFJTF9WRVJJRklDQVRJT05fUkVTRU5EOiBcInJlc2VuZF9lbWFpbF92ZXJpZmljYXRpb25cIixcbiAgICBFTUFJTF9WRVJJRklDQVRJT05fU1VDQ0VTU0ZVTDogXCJlbWFpbF92ZXJpZmljYXRpb25fc3VjY2Vzc2Z1bFwiLFxuICAgIEVNQUlMX1ZFUklGSUNBVElPTl9GQUlMRUQ6IFwiZW1haWxfdmVyaWZpY2F0aW9uX2ZhaWxlZFwiLFxuXG4gICAgVFJBRkZJQ19UQUJMRV9WSUVXRUQ6IFwidHJhZmZpY190YWJsZV92aWV3ZWRcIixcbiAgICBUUkFGRklDX1RBQkxFX01PRElGSUVEOiBcInRyYWZmaWNfdGFibGVfbW9kaWZpZWRcIixcblxuICAgIEFQUF9MQVVOQ0hFRDogXCJhcHBfbGF1bmNoZWRcIixcbiAgICBBUFBfQ0xPU0VEOiBcImFwcF9jbG9zZWRcIixcbiAgICBBUFBfTk9UX0xBVU5DSEVEOiBcImFwcF9ub3RfbGF1bmNoZWRcIixcbiAgICBQUk9YWV9TRVJWRVI6IFwicHJveHlfc2VydmVyX3N0YXJ0ZWRcIixcbiAgICBCR19QUk9DRVNTOiBcImJnX3Byb2Nlc3Nfc3RhcnRlZFwiLFxuXG4gICAgTUFOVUFMX1NFVFVQX01BQzogXCJtYW51YWxfc2V0dXBfbWFjXCIsXG5cbiAgICBEQVJLX01PREVfRU5BQkxFRDogXCJkYXJrX21vZGVfZW5hYmxlZFwiLFxuICAgIERBUktfTU9ERV9ESVNBQkxFRDogXCJkYXJrX21vZGVfZGlzYWJsZWRcIixcbiAgICBVUEdSQURFX1JFUVVJUkVEX0ZPUl9EQVJLX01PREU6IFwidXBncmFkZV9yZXF1aXJlZF9mb3JfZGFya19tb2RlXCIsXG5cbiAgICBTSU1VTEFURV9SVUxFOiBcInNpbXVsYXRlX3J1bGVcIixcbiAgICBFWEVDVVRJT05fTE9HUzogXCJleGVjdXRpb25fbG9nc1wiLFxuICB9LFxuICBBVFRSOiB7XG4gICAgUEFZTUVOVF9NT0RFOiBcInBheW1lbnRfbW9kZVwiLFxuICAgIFBMQU5OQU1FOiBcInBsYW5uYW1lXCIsXG4gICAgUExBTl9EVVJBVElPTjogXCJwbGFuX2R1cmF0aW9uXCIsXG4gICAgUExBTl9JRDogXCJwbGFuX2lkXCIsXG4gICAgUExBTl9TVEFSVF9EQVRFOiBcInBsYW5fc3RhcnREYXRlXCIsXG4gICAgUExBTl9FTkRfREFURTogXCJwbGFuX2VuZERhdGVcIixcbiAgICBDT1VQT046IFwiY291cG9uXCIsXG4gICAgQ09VUE9OX1ZBTFVFOiBcImNvdXBvbl92YWx1ZVwiLFxuICAgIExJQ0VOU0U6IFwibGljZW5zZWtleVwiLFxuICAgIENPTVBBTlk6IFwiY29tcGFueVwiLFxuXG4gICAgUFJPRklMRTogXCJwcm9maWxlXCIsXG5cbiAgICBSRU1PVEVfUlVMRVNfRU5EUE9JTlQ6IFwicmVtb3RlUnVsZXNFbmRwb2ludFwiLFxuICAgIFJFTU9URV9SVUxFU19GUkVRVUVOQ1k6IFwicmVtb3RlUnVsZXNGcmVxdWVuY3lcIixcblxuICAgIE5VTV9SVUxFUzogXCJOVU1fUlVMRVNcIixcbiAgICBOVU1fQUNUSVZFX1JVTEVTOiBcIk5VTV9BQ1RJVkVfUlVMRVNcIixcbiAgICBOVU1fR1JPVVBTOiBcIk5VTV9HUk9VUFNcIixcbiAgICBOVU1fQUNUSVZFX0dST1VQUzogXCJOVU1fQUNUSVZFX0dST1VQU1wiLFxuICAgIE5VTV9TSEFSRURfTElTVFM6IFwiTlVNX1NIQVJFRF9MSVNUU1wiLFxuXG4gICAgT05CT0FSRElOR19WMV9ET05FOiBcIk9OQk9BUkRJTkdfVjFfRE9ORVwiLFxuXG4gICAgU0lHTlVQX0RBVEU6IFwiU0lHTlVQX0RBVEVcIixcblxuICAgIEVYVEVOU0lPTl9JTlNUQUxMX0RBVEU6IFwiaW5zdGFsbF9kYXRlXCIsXG4gICAgREVTS1RPUF9JTlNUQUxMX0RBVEU6IFwiZGVza3RvcF9pbnN0YWxsX2RhdGVcIixcblxuICAgIEFQUF9NT0RFOiBcIkFQUF9NT0RFXCIsXG4gICAgRU1BSUxfVFlQRTogXCJFTUFJTF9UWVBFXCIsXG4gICAgRU1BSUxfRE9NQUlOOiBcIkVNQUlMX0RPTUFJTlwiLFxuICAgIElTX1BSRU1JVU06IFwiSVNfUFJFTUlVTVwiLFxuXG4gICAgVFJJQUxfTU9ERV9FTkFCTEVEOiBcInRyaWFsX21vZGVfZW5hYmxlZFwiLFxuICB9LFxuICBWQUxVRVM6IHtcbiAgICBQQVlQQUw6IFwicGF5cGFsXCIsXG4gIH0sXG4gIEdBX0NVU1RPTV9ESU1FTlNJT05TOiB7XG4gICAgVVNFUl9JRDogXCJkaW1lbnNpb24xXCIsXG4gIH0sXG4gIEdBX0NVU1RPTV9NRVRSSUNTOiB7XG4gICAgbnVtX3J1bGVzOiBcIm1ldHJpYzFcIixcbiAgfSxcbn07XG5cbkNPTlNUQU5UUy5VU0VSID0ge1xuICBBVVRIT1JJWkVEOiBcImF1dGhvcml6ZWQtdXNlclwiLFxuICBVTkFVVEhPUklaRUQ6IFwidW5hdXRob3JpemVkLXVzZXJcIixcbn07XG5cbkNPTlNUQU5UUy5GSVJFQkFTRV9OT0RFUyA9IHtcbiAgVVNFUlM6IFwidXNlcnNcIixcbiAgUFVCTElDOiBcInB1YmxpY1wiLFxuICBTSEFSRURfTElTVFM6IFwic2hhcmVkTGlzdHNcIixcbiAgRkVFREJBQ0s6IFwiZmVlZGJhY2tcIixcbiAgRklMRVM6IFwiZmlsZXNcIixcbn07XG5cbkNPTlNUQU5UUy5EQVRBU1RPUkUgPSB7XG4gIEFDVElPTlM6IHtcbiAgICBDSEVDS19VU0VSX0FVVEg6IFwiY2hlY2s6dXNlckF1dGhlbnRpY2F0ZWRcIixcbiAgICBBVVRIRU5USUNBVEU6IFwiYXV0aGVudGljYXRlXCIsXG4gICAgRkVUQ0hfVVNFUl9ERVRBSUxTOiBcImZldGNoVXNlckRldGFpbHNcIixcbiAgICBHRVRWQUxVRTogXCJnZXRWYWx1ZVwiLFxuICAgIFNFVFZBTFVFOiBcInNldFZhbHVlXCIsXG4gIH0sXG59O1xuXG5DT05TVEFOVFMuTUVTU0FHRV9IQU5ETEVSID0ge1xuICBBQ1RJT05TOiB7XG4gICAgU1VCTUlUX0VWRU5UOiBcInN1Ym1pdEV2ZW50XCIsXG4gICAgU1VCTUlUX0FUVFI6IFwic3VibWl0QXR0clwiLFxuICB9LFxuICBNRVNTQUdFX1RZUEVTOiB7XG4gICAgRVZFTlQ6IFwiZXZlbnRcIixcbiAgICBBVFRSSUJVVEU6IFwiYXR0cmlidXRlXCIsXG4gIH0sXG4gIFNJTktTOiB7XG4gICAgQ1VTVE9NRVJMWTogXCJjdXN0b21lcmx5XCIsXG4gIH0sXG59O1xuXG5DT05TVEFOVFMuZ2V0U2hhcmVkTGlzdFVSTCA9IGZ1bmN0aW9uIChzaGFyZUlkLCBzaGFyZWRMaXN0TmFtZSkge1xuICBjb25zdCBmb3JtYXR0ZWRTaGFyZWRMaXN0TmFtZSA9IHNoYXJlZExpc3ROYW1lXG4gICAgLnJlcGxhY2UobmV3IFJlZ0V4cChcIiArfC8rXCIsIFwiZ1wiKSwgXCItXCIpXG4gICAgLnJlcGxhY2UoLy0rL2csIFwiLVwiKTtcbiAgcmV0dXJuIChcbiAgICBDT05TVEFOVFMuUlVMRVNfUEFHRV9VUkwgK1xuICAgIFwiI3NoYXJlZExpc3QvXCIgK1xuICAgIHNoYXJlSWQgK1xuICAgIFwiLVwiICtcbiAgICBmb3JtYXR0ZWRTaGFyZWRMaXN0TmFtZVxuICApO1xufTtcblxuQ09OU1RBTlRTLmdldFNoYXJlZExpc3RUaW1lc3RhbXAgPSBmdW5jdGlvbiAoc2hhcmVkTGlzdElkKSB7XG4gIHJldHVybiBzaGFyZWRMaXN0SWQuc3BsaXQoXCItXCIpWzBdO1xufTtcblxuQ09OU1RBTlRTLmZpcmVBamF4ID0gZnVuY3Rpb24gKHJlcXVlc3RVUkwsIGFzeW5jKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0VVJMLCBhc3luYyk7XG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCA0MDApIHtcbiAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmVxdWVzdC5zZW5kKCk7XG4gIH0pO1xufTtcblxuaWYgKGlzUmVhY3RBcHApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBDT05TVEFOVFM7XG59IGVsc2Uge1xuICAvKiogRm9yIGxlZ2FjeSBhcHBzLSBicm93c2VyIGV4dGVuc2lvbiAqL1xuICBPYmplY3QuYXNzaWduKHdpbmRvdy5SUSwgQ09OU1RBTlRTKTtcbn1cbiIsIlxuICBpZiAodHlwZW9mIGlzUmVhY3RBcHAgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgaXNSZWFjdEFwcCA9IHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiO1xuICB9XG5cbiAgY29uc3QgY29uZmlncyA9IHtcbiAgXCJicm93c2VyXCI6IFwiY2hyb21lXCIsXG4gIFwic3RvcmFnZVR5cGVcIjogXCJzeW5jXCIsXG4gIFwiY29udGV4dE1lbnVDb250ZXh0c1wiOiBbXG4gICAgXCJicm93c2VyX2FjdGlvblwiXG4gIF0sXG4gIFwiY29sbGVjdEV4dFVzYWdlU3RhdHNcIjogdHJ1ZSxcbiAgXCJlbnZcIjogXCJkdW1teVwiLFxuICBcIldFQl9VUkxcIjogXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIixcbiAgXCJmaXJlYmFzZUNvbmZpZ1wiOiB7XG4gICAgXCJhcGlLZXlcIjogXCJ4eFwiLFxuICAgIFwiYXV0aERvbWFpblwiOiBcInh4XCIsXG4gICAgXCJkYXRhYmFzZVVSTFwiOiBcInh4XCIsXG4gICAgXCJwcm9qZWN0SWRcIjogXCJ4eFwiLFxuICAgIFwic3RvcmFnZUJ1Y2tldFwiOiBcInh4XCIsXG4gICAgXCJtZXNzYWdpbmdTZW5kZXJJZFwiOiBcInh4XCJcbiAgfSxcbiAgXCJsb2dMZXZlbFwiOiBcImRlYnVnXCIsXG4gIFwic3RyaXBlQ29uZmlnXCI6IHtcbiAgICBcInB1Ymxpc2hhYmxlS2V5XCI6IFwieHhcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCIyMi4xLjE4XCJcbn07XG4gIGlmIChpc1JlYWN0QXBwKSB7XG4gICAgLyoqIEZvciBSZWFjdCBBcHAgKi9cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGNvbmZpZ3M7XG4gIH0gZWxzZSB7XG4gICAgLyoqIFxuICAgICAqIEZvciBsZWdhY3kgYXBwcy0gYnJvd3NlciBleHRlbnNpb24gXG4gICAgICogQWRkZWQgaWYtY2hlY2sgYmVjYXVzZSBkZXNrdG9wIGFwcCBicmVha3Mgb24gY29tcGlsYXRpb25cbiAgICAgKi9cbiAgICBpZiAod2luZG93KSB7XG4gICAgICB3aW5kb3cuUlEgPSB3aW5kb3cuUlEgfHwge307XG4gICAgICB3aW5kb3cuUlEuY29uZmlncyA9IGNvbmZpZ3M7ICBcbiAgICB9XG4gIH0gIFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCBDT05TVEFOVFMgPSByZXF1aXJlKFwiLi4vLi4vY29uc3RhbnRzXCIpO1xuXG5leHBvcnQgY29uc3QgcmVnZXhGb3JtYXQgPSBcIl4vKC4rKS8ofGl8Z3xpZ3xnaSkkXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUmVnZXgocmVnZXhTdHIpIHtcbiAgcmV0dXJuIHJlZ2V4U3RyLnNlYXJjaChuZXcgUmVnRXhwKHJlZ2V4Rm9ybWF0KSkgIT09IC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9SZWdleChyZWdleFN0cikge1xuICB2YXIgaXNSZWdleFN0cmluZ1ZhbGlkID0gaXNWYWxpZFJlZ2V4KHJlZ2V4U3RyKSxcbiAgICBtYXRjaFJlZ0V4cDtcblxuICBpZiAoIWlzUmVnZXhTdHJpbmdWYWxpZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIG1hdGNoUmVnRXhwID0gcmVnZXhTdHIubWF0Y2gobmV3IFJlZ0V4cChyZWdleEZvcm1hdCkpO1xuXG4gIHJldHVybiBuZXcgUmVnRXhwKG1hdGNoUmVnRXhwWzFdLCBtYXRjaFJlZ0V4cFsyXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGpzb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIC0+IFwiYVwiLCBcImEuYlwiLCBcImEuMC5iIChJZiBhIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgbGlzdCBvZiBvYmplY3RzXCJcbiAqIEFsc28gY29waWVkIGluIHNoYXJlZC91dGlscy5qcyBmb3IgdGhlIHNha2Ugb2YgdGVzdGluZ1xuICovXG5leHBvcnQgY29uc3QgdHJhdmVyc2VKc29uQnlQYXRoID0gKGpzb25PYmplY3QsIHBhdGgpID0+IHtcbiAgaWYgKCFwYXRoKSByZXR1cm47XG5cbiAgY29uc3QgcGF0aFBhcnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG5cbiAgdHJ5IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gUmVhY2ggdGhlIGxhc3Qgbm9kZSBidXQgbm90IHRoZSBsZWFmIG5vZGUuXG4gICAgZm9yIChpID0gMDsgaSA8IHBhdGhQYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGpzb25PYmplY3QgPSBqc29uT2JqZWN0W3BhdGhQYXJ0c1tpXV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb25PYmplY3RbcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXV07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBEbyBub3RoaW5nICovXG4gICAgY29uc29sZS5sb2coZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVXJsKHVybCkge1xuICByZXR1cm4gdXJsLnNlYXJjaCgvXmh0dHA6fGh0dHBzOnxmdHA6fGphdmFzY3JpcHQ6LykgPT09IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgcmV0dXJuIERhdGUubm93KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50VGltZSgpIHtcbiAgcmV0dXJuIERhdGUubm93KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVJbk1pbGlzLCBmb3JtYXQpIHtcbiAgY29uc3QgZCA9IG5ldyBEYXRlKGRhdGVJbk1pbGlzKTtcblxuICBpZiAoZGF0ZUluTWlsaXMgJiYgZm9ybWF0ID09PSBcInl5eXktbW0tZGRcIikge1xuICAgIGxldCBtb250aCA9IGQuZ2V0TW9udGgoKSArIDEsXG4gICAgICBkYXRlID0gZC5nZXREYXRlKCk7XG5cbiAgICBkYXRlID0gU3RyaW5nKGRhdGUpLmxlbmd0aCA8IDIgPyBcIjBcIiArIGRhdGUgOiBTdHJpbmcoZGF0ZSk7XG4gICAgbW9udGggPSBTdHJpbmcobW9udGgpLmxlbmd0aCA8IDIgPyBcIjBcIiArIG1vbnRoIDogU3RyaW5nKG1vbnRoKTtcblxuICAgIHJldHVybiBkLmdldEZ1bGxZZWFyKCkgKyBcIi1cIiArIG1vbnRoICsgXCItXCIgKyBkYXRlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxvYWRQYWdlKHdhaXQpIHtcbiAgd2FpdCA9IHdhaXQgfHwgMDtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH0sIHdhaXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGFzdFBhcnQoc3RyLCBzZXBhcmF0ZXIpIHtcbiAgc3RyID0gc3RyIHx8IFwiXCI7XG5cbiAgLy8gUmV0dXJuIG9yaWdpbmFsIHN0cmluZyB3aGVuIHNlcGFyYXRvciBpcyBub3QgcHJlc2VudFxuICBpZiAoc3RyLmluZGV4T2Yoc2VwYXJhdGVyKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgc3RyID0gc3RyLnNwbGl0KHNlcGFyYXRlcik7XG5cbiAgLy8gUmVtb3ZlIGxhc3QgcGFydFxuICBzdHIubGVuZ3RoLS07XG5cbiAgcmV0dXJuIHN0ci5qb2luKHNlcGFyYXRlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29raWUobmFtZSwgdmFsdWUsIG1heEFnZSkge1xuICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIFwiOyBwYXRoPS9cIiArIFwiOyBtYXgtYWdlPVwiICsgbWF4QWdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZENvb2tpZShuYW1lKSB7XG4gIHZhciBuYW1lRVEgPSBuYW1lICsgXCI9XCI7XG4gIHZhciBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IGNhW2ldO1xuICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PT0gXCIgXCIpIGMgPSBjLnN1YnN0cmluZygxLCBjLmxlbmd0aCk7XG4gICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCwgYy5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcmFzZUNvb2tpZShuYW1lKSB7XG4gIHNldENvb2tpZShuYW1lLCBcIlwiLCAxKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHVybCBVcmwgZnJvbSB3aGljaCBjb21wb25lbnQgaGFzIHRvIGJlIGV4dHJhY3RlZFxuICogQHBhcmFtIG5hbWUgVXJsIGNvbXBvbmVudCBuYW1lIC0gaG9zdCwgcGF0aCwgdXJsLCBxdWVyeSwgZnJhZ21lbnQgZXRjLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFVybENvbXBvbmVudCh1cmwsIG5hbWUpIHtcbiAgY29uc3QgbXlVcmwgPSBuZXcgVVJMKHVybCk7XG5cbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSBDT05TVEFOVFMuVVJMX0NPTVBPTkVOVFMuVVJMOlxuICAgICAgcmV0dXJuIHVybDtcbiAgICBjYXNlIENPTlNUQU5UUy5VUkxfQ09NUE9ORU5UUy5QUk9UT0NPTDpcbiAgICAgIHJldHVybiBteVVybC5wcm90b2NvbDtcbiAgICBjYXNlIENPTlNUQU5UUy5VUkxfQ09NUE9ORU5UUy5IT1NUOlxuICAgICAgcmV0dXJuIG15VXJsLmhvc3Q7XG4gICAgY2FzZSBDT05TVEFOVFMuVVJMX0NPTVBPTkVOVFMuUEFUSDpcbiAgICAgIHJldHVybiBteVVybC5wYXRobmFtZTtcbiAgICBjYXNlIENPTlNUQU5UUy5VUkxfQ09NUE9ORU5UUy5RVUVSWTpcbiAgICAgIHJldHVybiBteVVybC5zZWFyY2g7XG4gICAgY2FzZSBDT05TVEFOVFMuVVJMX0NPTVBPTkVOVFMuSEFTSDpcbiAgICAgIHJldHVybiBteVVybC5oYXNoO1xuICB9XG5cbiAgY29uc29sZS5lcnJvcihcIkludmFsaWQgc291cmNlIGtleVwiLCB1cmwsIG5hbWUpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gcXVlcnlTdHJpbmcgZS5nLiA/YT0xJmI9MiBvciBhPTEgb3IgJydcbiAqIEByZXR1cm5zIG9iamVjdCB7IHBhcmFtTmFtZSAtPiBbdmFsdWUxLCB2YWx1ZTJdIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zTWFwKHF1ZXJ5U3RyaW5nKSB7XG4gIHZhciBtYXAgPSB7fSxcbiAgICBxdWVyeVBhcmFtcztcblxuICBpZiAoIXF1ZXJ5U3RyaW5nIHx8IHF1ZXJ5U3RyaW5nID09PSBcIj9cIikge1xuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICBpZiAocXVlcnlTdHJpbmdbMF0gPT09IFwiP1wiKSB7XG4gICAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZy5zdWJzdHIoMSk7XG4gIH1cblxuICBxdWVyeVBhcmFtcyA9IHF1ZXJ5U3RyaW5nLnNwbGl0KFwiJlwiKTtcblxuICBxdWVyeVBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeVBhcmFtKSB7XG4gICAgdmFyIHBhcmFtTmFtZSA9IHF1ZXJ5UGFyYW0uc3BsaXQoXCI9XCIpWzBdLFxuICAgICAgcGFyYW1WYWx1ZSA9IHF1ZXJ5UGFyYW0uc3BsaXQoXCI9XCIpWzFdO1xuXG4gICAgLy8gV2UgYXJlIGtlZXBpbmcgdmFsdWUgb2YgcGFyYW0gYXMgYXJyYXkgc28gdGhhdCBpbiBmdXR1cmUgd2UgY2FuIHN1cHBvcnQgbXVsdGlwbGUgcGFyYW0gdmFsdWVzIG9mIHNhbWUgbmFtZVxuICAgIC8vIEFuZCB3ZSBkbyBub3Qgd2FudCB0byBsb3NlIHRoZSBwYXJhbXMgaWYgdXJsIGFscmVhZHkgY29udGFpbnMgbXVsdGlwbGUgcGFyYW1zIG9mIHNhbWUgbmFtZVxuICAgIG1hcFtwYXJhbU5hbWVdID0gbWFwW3BhcmFtTmFtZV0gfHwgW107XG4gICAgbWFwW3BhcmFtTmFtZV0ucHVzaChwYXJhbVZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG1hcDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgbWFwIHRvIGtleXZhbHVlIHBhaXIgc3RyaW5nIChVc2VkIGZvciBxdWVyeSBwYXJhbXMpXG4gKiBAcGFyYW0gcXVlcnlQYXJhbXNNYXBcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UXVlcnlQYXJhbU1hcFRvU3RyaW5nKHF1ZXJ5UGFyYW1zTWFwKSB7XG4gIHZhciBxdWVyeVBhcmFtc0FyciA9IFtdO1xuXG4gIGZvciAodmFyIHBhcmFtTmFtZSBpbiBxdWVyeVBhcmFtc01hcCkge1xuICAgIHZhciB2YWx1ZXMgPSBxdWVyeVBhcmFtc01hcFtwYXJhbU5hbWVdIHx8IFtdO1xuXG4gICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtVmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1WYWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBxdWVyeVBhcmFtc0Fyci5wdXNoKHBhcmFtTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeVBhcmFtc0Fyci5wdXNoKHBhcmFtTmFtZSArIFwiPVwiICsgcGFyYW1WYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcXVlcnlQYXJhbXNBcnIuam9pbihcIiZcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVcmxXaXRob3V0UXVlcnlQYXJhbXNBbmRIYXNoKHVybCkge1xuICB2YXIgdXJsV2l0aG91dEhhc2ggPSB1cmwuc3BsaXQoXCIjXCIpWzBdO1xuXG4gIHJldHVybiB1cmxXaXRob3V0SGFzaC5zcGxpdChcIj9cIilbMF07XG59XG5cbi8qKlxuICogQWRkIGEgUXVlcnkgUGFyYW0gdG8gVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybCB0byB3aGljaCBxdWVyeSBzdHJpbmcgaGFzIHRvIGJlIGFkZGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1OYW1lIFRoZSBwYXJhbU5hbWUgdG8gYmUgYWRkZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVZhbHVlIFRoZSBwYXJhbVZhbHVlIG9mIHRoZSBwYXJhbU5hbWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3ZlcndyaXRlIFdoZXRoZXIgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBxdWVyeVN0cmlnbiBvciBub3RcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgd2VsbCBmb3JtYXR0ZWQgdXJsIHdpdGggYWRkaXRpb24gb2YgZ2l2ZW4gcXVlcnkgcGFyYW1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFF1ZXJ5UGFyYW1Ub1VSTCh1cmwsIHBhcmFtTmFtZSwgcGFyYW1WYWx1ZSwgb3ZlcndyaXRlKSB7XG4gIGxldCByZXN1bHRpbmdVcmwgPSB1cmwsXG4gICAgdXJsV2l0aG91dFF1ZXJ5UGFyYW1zQW5kSGFzaCA9IGdldFVybFdpdGhvdXRRdWVyeVBhcmFtc0FuZEhhc2godXJsKSxcbiAgICB1cmxIYXNoID0gZXh0cmFjdFVybENvbXBvbmVudCh1cmwsIENPTlNUQU5UUy5VUkxfQ09NUE9ORU5UUy5IQVNIKSxcbiAgICBxdWVyeVN0cmluZyA9IGV4dHJhY3RVcmxDb21wb25lbnQodXJsLCBDT05TVEFOVFMuVVJMX0NPTVBPTkVOVFMuUVVFUlkpLFxuICAgIHF1ZXJ5UGFyYW1zTWFwID0gZ2V0UXVlcnlQYXJhbXNNYXAocXVlcnlTdHJpbmcpO1xuXG4gIGlmIChvdmVyd3JpdGUpIHtcbiAgICBxdWVyeVBhcmFtc01hcFtwYXJhbU5hbWVdID0gW107XG4gIH0gZWxzZSB7XG4gICAgcXVlcnlQYXJhbXNNYXBbcGFyYW1OYW1lXSA9IHF1ZXJ5UGFyYW1zTWFwW3BhcmFtTmFtZV0gfHwgW107XG4gIH1cblxuICBxdWVyeVBhcmFtc01hcFtwYXJhbU5hbWVdLnB1c2gocGFyYW1WYWx1ZSk7XG5cbiAgcXVlcnlTdHJpbmcgPSBjb252ZXJ0UXVlcnlQYXJhbU1hcFRvU3RyaW5nKHF1ZXJ5UGFyYW1zTWFwKTtcblxuICByZXN1bHRpbmdVcmwgPSBxdWVyeVN0cmluZ1xuICAgID8gdXJsV2l0aG91dFF1ZXJ5UGFyYW1zQW5kSGFzaCArIFwiP1wiICsgcXVlcnlTdHJpbmdcbiAgICA6IHVybFdpdGhvdXRRdWVyeVBhcmFtc0FuZEhhc2g7XG4gIHJlc3VsdGluZ1VybCArPSB1cmxIYXNoO1xuXG4gIHJldHVybiByZXN1bHRpbmdVcmw7XG59XG5cbi8qKlxuICogQWRkcyBEZWxheSBieSBydW5uaW5nIGEgbG9vcCBmb3IgZGVzaXJlZCB0aW1lXG4gKiBAcGFyYW0ge051bWJlcn0gbWlsbGlzZWNvbmRzIFRpbWUgaW4gbXMgZm9yIHdoaWNoIHRvIGFkZCBkZWxheVxuICogQHJldHVybnMge1ZvaWR9IFZvaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZERlbGF5KG1pbGxpc2Vjb25kcykge1xuICBjb25zdCBkYXRlID0gRGF0ZS5ub3coKTtcbiAgbGV0IGN1cnJlbnREYXRlID0gbnVsbDtcbiAgZG8ge1xuICAgIGN1cnJlbnREYXRlID0gRGF0ZS5ub3coKTtcbiAgfSB3aGlsZSAoY3VycmVudERhdGUgLSBkYXRlIDwgbWlsbGlzZWNvbmRzKTtcbn1cblxuLy9ubyBvZiBsb2dvcyBmb3IgZWFjaCBjb3VudHJ5IGZvciBpdGVyYXRpb25cbmV4cG9ydCBjb25zdCBmaWxlc0J5Q291bnRyeSA9IHtcbiAgQVU6IDMsXG4gIEJSOiA1LFxuICBDQTogNCxcbiAgQ046IDMsXG4gIERFOiAxLFxuICBHQjogNSxcbiAgSU46IDYsXG4gIEpQOiA2LFxuICBSVTogNixcbiAgVFI6IDIsXG4gIFVTOiA2LFxufTtcblxuLy9nZXR0aW5nIGNvdW50cnkgb2YgdXNlclxuZXhwb3J0IGNvbnN0IGdldENvdW50cnlGcm9tQVBJID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYXBpLmNvdW50cnkuaXMvXCIpO1xuICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIHVzZXIuY291bnRyeTtcbiAgfSBlbHNlIHtcbiAgICAvL3Nob3dpbmcgZGVmYXVsdCBsb2dvc1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vL2dldCBjb3VudHJ5IG9mIHZpc2l0b3JcbmV4cG9ydCBjb25zdCBnZXRDb3VudHJ5TmFtZSA9IGFzeW5jICgpID0+IHtcbiAgbGV0IGNvdW50cnlOYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjb3VudHJ5XCIpO1xuICBpZiAoY291bnRyeU5hbWUgPT09IG51bGwpIHtcbiAgICBjb3VudHJ5TmFtZSA9IGF3YWl0IGdldENvdW50cnlGcm9tQVBJKCk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjb3VudHJ5XCIsIGNvdW50cnlOYW1lKTtcbiAgfVxuICByZXR1cm4gY291bnRyeU5hbWU7XG59O1xuIiwiLy8gUFJFLURFRklORUQgRlVOQ1RJT05TIEFSRSBDVVJSRU5UTFkgVVNFRCBJTiBIRUFERVJTIFJVTEUgT05MWSFcblxuaW1wb3J0ICogYXMgQ09OU1RBTlRTIGZyb20gXCIuLi8uLi8uLi9jb21tb24vY29uc3RhbnRzL2luZGV4XCI7XG5cbmNvbnN0IHsgUlVMRV9UWVBFUyB9ID0gQ09OU1RBTlRTO1xuXG5leHBvcnQgY29uc3QgUFJFREVGSU5FRF9GVU5DVElPTlMgPSB7fTtcbmV4cG9ydCBjb25zdCBQQVRURVJOUyA9IHtcbiAgU1RSSU5HOiBcIigoPyFycV8pLikrXCIsIC8vIG1hdGNoZXMgYW55IHN0cmluZyBub3QgaGF2aW5nIHJxXyAocHJvYmFibHkgYW5vdGhlciBwcmVkZWZpbmVkIGZ1bmN0aW9uKVxuICBOVU1CRVI6IFwiWzAtOV0rXCIsXG4gIENPTU1BOiBcIiAqLCAqXCIsXG4gIEVNUFRZX1NUUklORzogXCJcIixcbn07XG5cbi8vIEdlbmVyYXRlIFJhbmRvbSBOdW1iZXJcblBSRURFRklORURfRlVOQ1RJT05TLkdFTkVSQVRFX1JBTkRPTV9OVU1CRVIgPSB7XG4gIGFwcGxpY2FibGVSdWxlVHlwZXM6IFtSVUxFX1RZUEVTLkhFQURFUlNdLFxuICBuYW1lOiBcInJxX3JhbmRcIiwgLy8gTmFtZSBvZiBwcmVkZWZpbmVkIGZ1bmN0aW9uLCBtYW5kYXRvcnkgdG8gc3RhcnQgd2l0aCAncnFfJy5cbiAgZGVzY3JpcHRpb246IFwiR2VuZXJhdGUgUmFuZG9tIE51bWJlclwiLFxuICB1c2FnZTogXCJycV9yYW5kKDQpIChNYXggOCBkaWdpdHMgYWxsb3dlZClcIixcbiAgYXJndW1lbnQ6IFBBVFRFUk5TLk5VTUJFUiwgLy8gcnFfcmFuZChhcmd1bWVudClcbiAgZ2V0UmFuZG9tTnVtYmVyOiBmdW5jdGlvbiAobnVtRGlnaXRzKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogTWF0aC5wb3coMTAsIG51bURpZ2l0cykpO1xuICB9LFxuICBhcmd1bWVudEV2YWx1YXRvcjogZnVuY3Rpb24gKFthcmdzXSwgcGF5bG9hZCA9IHt9KSB7XG4gICAgY29uc3QgYXJnID0gYXJnc1swXTtcbiAgICB2YXIgbnVtRGlnaXRzID0gTWF0aC5taW4oYXJnLCA4KSxcbiAgICAgIHZhbHVlVG9GaXQgPSBQUkVERUZJTkVEX0ZVTkNUSU9OUy5HRU5FUkFURV9SQU5ET01fTlVNQkVSLmdldFJhbmRvbU51bWJlcihcbiAgICAgICAgbnVtRGlnaXRzXG4gICAgICApO1xuXG4gICAgLy8gQ2F0Y2g6IEZvciA8cnFfcmFuZCg0KT4sIHdlIG1heSBnZXQgMyBkaWdpdCB2YWx1ZSBiZWNhdXNlIGxlYWRpbmcgemVyb3MgYXJlIG9taXR0ZWQgZnJvbSBudW1iZXJzXG4gICAgdmFsdWVUb0ZpdCA9IHZhbHVlVG9GaXQudG9TdHJpbmcoKTtcbiAgICB3aGlsZSAodmFsdWVUb0ZpdC5sZW5ndGggPCBudW1EaWdpdHMpIHtcbiAgICAgIHZhbHVlVG9GaXQgPSB2YWx1ZVRvRml0ICsgXCIwXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlVG9GaXQ7XG4gIH0sXG59O1xuXG4vLyBHZXQgUmVxdWVzdCBPcmlnaW5cblBSRURFRklORURfRlVOQ1RJT05TLkdFVF9SRVFVRVNUX09SSUdJTiA9IHtcbiAgYXBwbGljYWJsZVJ1bGVUeXBlczogW1JVTEVfVFlQRVMuSEVBREVSU10sXG4gIG5hbWU6IFwicnFfcmVxdWVzdF9vcmlnaW5cIiwgLy8gTmFtZSBvZiBwcmVkZWZpbmVkIGZ1bmN0aW9uLCBtYW5kYXRvcnkgdG8gc3RhcnQgd2l0aCAncnFfJy5cbiAgZGVzY3JpcHRpb246IFwiVGhlIG9yaWdpbiByZXF1ZXN0IGhlYWRlclwiLFxuICB1c2FnZTogXCJycV9yZXF1ZXN0X29yaWdpbigpXCIsXG4gIGFyZ3VtZW50OiBQQVRURVJOUy5FTVBUWV9TVFJJTkcsIC8vIHJxX3JlcXVlc3Rfb3JpZ2luKClcbiAgYXJndW1lbnRFdmFsdWF0b3I6IGZ1bmN0aW9uIChbYXJnc10sIHBheWxvYWQgPSB7fSkge1xuICAgIGlmIChwYXlsb2FkICYmIHBheWxvYWRbXCJyZXF1ZXN0T3JpZ2luXCJdKSByZXR1cm4gcGF5bG9hZFtcInJlcXVlc3RPcmlnaW5cIl07XG4gICAgcmV0dXJuIFwiKlwiO1xuICB9LFxufTtcbiIsImltcG9ydCB7XG4gIGV4dHJhY3RVcmxDb21wb25lbnQsXG4gIHRvUmVnZXgsXG4gIHRyYXZlcnNlSnNvbkJ5UGF0aCxcbn0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb21wb25lbnRzL3V0aWxzL3V0aWxzXCI7XG5pbXBvcnQgeyBQUkVERUZJTkVEX0ZVTkNUSU9OUywgUEFUVEVSTlMgfSBmcm9tIFwiLi9wcmVkZWZpbmVkRnVuY3Rpb25zXCI7XG5jb25zdCBDT05TVEFOVFMgPSByZXF1aXJlKFwiLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cy9pbmRleFwiKTtcblxuY2xhc3MgUnVsZU1hdGNoZXIge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGZpbmFsU3RyaW5nIFN0cmluZyBoYXZpbmcgJHZhbHVlcyBlLmcuIGh0dHA6Ly93d3cuZXhhbXBsZS5jb20/cT0kMSZwPSQyXG4gICAqIEBwYXJhbSBtYXRjaGVzIEFycmF5IG9mIG1hdGNoZXMgaW4gUmVnZXggYW5kIHdpbGRjYXJkIG1hdGNoZXNcbiAgICogQHJldHVybnMgU3RyaW5nIGFmdGVyIHJlcGxhY2luZyAkcyB3aXRoIG1hdGNoIHZhbHVlc1xuICAgKi9cbiAgc3RhdGljIHBvcHVsYXRlTWF0Y2hlc0luU3RyaW5nKGZpbmFsU3RyaW5nLCBtYXRjaGVzKSB7XG4gICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChtYXRjaFZhbHVlLCBpbmRleCkge1xuICAgICAgLy8gRmlyc3QgbWF0Y2ggaXMgdGhlIGZ1bGwgc3RyaW5nIGluIFJlZ2V4IGFuZCBlbXB0eSBzdHJpbmcgaW4gd2lsZGNhcmQgbWF0Y2hcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElzc3VlOiA3MyBXZSBzaG91bGQgbm90IGxlYXZlICRpIGluIHRoZSBVcmwgb3RoZXJ3aXNlIGJyb3dzZXIgd2lsbCBlbmNvZGUgdGhhdC5cbiAgICAgIC8vIEV2ZW4gaWYgbWF0Y2ggaXMgbm90IGZvdW5kLCBqdXN0IHJlcGxhY2UgdGhhdCBwbGFjZWhvbGRlciB3aXRoIGVtcHR5IHN0cmluZ1xuICAgICAgbWF0Y2hWYWx1ZSA9IG1hdGNoVmFsdWUgfHwgXCJcIjtcblxuICAgICAgLy8gUmVwbGFjZSBhbGwgJGluZGV4IHZhbHVlcyBpbiBkZXN0aW5hdGlvblVybCB3aXRoIHRoZSBtYXRjaGVkIGdyb3Vwc1xuICAgICAgZmluYWxTdHJpbmcgPSBmaW5hbFN0cmluZy5yZXBsYWNlKFxuICAgICAgICBuZXcgUmVnRXhwKFwiWyRdXCIgKyBpbmRleCwgXCJnXCIpLFxuICAgICAgICBtYXRjaFZhbHVlXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZpbmFsU3RyaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSByZWdleFN0cmluZyBWYWx1ZSBGaWVsZCBpbiBzb3VyY2Ugb2JqZWN0XG4gICAqIEBwYXJhbSBpbnB1dFN0cmluZyBVcmxDb21wb25lbnQgb2YgU291cmNlIC0gaG9zdC91cmwvcGF0aFxuICAgKiBAcGFyYW0gZmluYWxTdHJpbmcgZGVzdGluYXRpb25VUkwgLSBXZSBuZWVkIHRvIHBsYWNlIHRoZSB2YWx1ZXMgb2YgZ3JvdXBzIGluIHRoaXMgc3RyaW5nIGUuZy4gaHR0cDovL3lhaG9vLmNvbT9xPSQxXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgc3RhdGljIGNoZWNrUmVnZXhNYXRjaChyZWdleFN0cmluZywgaW5wdXRTdHJpbmcsIGZpbmFsU3RyaW5nKSB7XG4gICAgdmFyIHJlZ2V4ID0gdG9SZWdleChyZWdleFN0cmluZyksXG4gICAgICBtYXRjaGVzO1xuXG4gICAgLy8gRG8gbm90IG1hdGNoIHdoZW4gcmVnZXggaXMgaW52YWxpZCBvciByZWdleCBkb2VzIG5vdCBtYXRjaCB3aXRoIFVybFxuICAgIGlmICghcmVnZXggfHwgaW5wdXRTdHJpbmcuc2VhcmNoKHJlZ2V4KSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIG1hdGNoZXMgPSByZWdleC5leGVjKGlucHV0U3RyaW5nKSB8fCBbXTtcbiAgICByZXR1cm4gUnVsZU1hdGNoZXIucG9wdWxhdGVNYXRjaGVzSW5TdHJpbmcoZmluYWxTdHJpbmcsIG1hdGNoZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB3aWxkQ2FyZFN0cmluZ1xuICAgKiBAcGFyYW0gaW5wdXRTdHJpbmdcbiAgICogQHBhcmFtIGZpbmFsU3RyaW5nXG4gICAqL1xuICBzdGF0aWMgY2hlY2tXaWxkQ2FyZE1hdGNoKHdpbGRDYXJkU3RyaW5nLCBpbnB1dFN0cmluZywgZmluYWxTdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IFtdLFxuICAgICAgd2lsZENhcmRTcGxpdHMsXG4gICAgICBpbmRleCxcbiAgICAgIHN1YnN0cixcbiAgICAgIHBvc2l0aW9uSW5JbnB1dDtcblxuICAgIC8vIFdyYXAgd2lsZENhcmRTdHJpbmcgYW5kIGlucHV0U3RyaW5nIHdpdGggJ3wnIHdpdGggZnJvbnQgYW5kIGVuZCB0byBoYW5kbGUgKiBpbiBmaXJzdCBhbmQgbGFzdFxuICAgIHdpbGRDYXJkU3RyaW5nID0gXCJ8XCIgKyB3aWxkQ2FyZFN0cmluZyArIFwifFwiO1xuICAgIGlucHV0U3RyaW5nID0gXCJ8XCIgKyBpbnB1dFN0cmluZyArIFwifFwiO1xuXG4gICAgLy8gU3BsaXQgd2l0aCAnKidcbiAgICB3aWxkQ2FyZFNwbGl0cyA9IHdpbGRDYXJkU3RyaW5nLnNwbGl0KFwiKlwiKTtcblxuICAgIC8vIFRyYXZlcnNlIG92ZXIgZmlyc3QgYXJyYXksIFNlYXJjaCB0aGUgaW5kZXhPZiBmaXJzdFtpXSBpbiBpbnB1dFxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHdpbGRDYXJkU3BsaXRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgc3Vic3RyID0gd2lsZENhcmRTcGxpdHNbaW5kZXhdO1xuICAgICAgcG9zaXRpb25JbklucHV0ID0gaW5wdXRTdHJpbmcuaW5kZXhPZihzdWJzdHIpO1xuXG4gICAgICBpZiAocG9zaXRpb25JbklucHV0ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb25JbklucHV0ID09PSAwKSB7XG4gICAgICAgIG1hdGNoZXMucHVzaChcIlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMucHVzaChpbnB1dFN0cmluZy5zdWJzdHIoMCwgcG9zaXRpb25JbklucHV0KSk7XG4gICAgICB9XG5cbiAgICAgIGlucHV0U3RyaW5nID0gaW5wdXRTdHJpbmcuc2xpY2UocG9zaXRpb25JbklucHV0ICsgc3Vic3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJ1bGVNYXRjaGVyLnBvcHVsYXRlTWF0Y2hlc0luU3RyaW5nKGZpbmFsU3RyaW5nLCBtYXRjaGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgaW50ZXJjZXB0ZWQgSFRUUCBSZXF1ZXN0IFVybCBtYXRjaGVzIHdpdGggYW55IFJ1bGVcbiAgICpcbiAgICogQHBhcmFtIHNvdXJjZU9iamVjdCBPYmplY3QgZS5nLiB7IGtleTogJ1VybC9ob3N0L3BhdGgnLCBvcGVyYXRvcjogJ0NvbnRhaW5zL01hdGNoZXMvRXF1YWxzJywgdmFsdWU6ICdnb29nbGUnIH1cbiAgICogQHBhcmFtIHVybCBVcmwgZm9yIHdoaWNoIEhUVFAgUmVxdWVzdCBpcyBpbnRlcmNlcHRlZC5cbiAgICogQHBhcmFtIGRlc3RpbmF0aW9uIFN0cmluZyBlLmcuICdodHRwOi8vd3d3LmV4YW1wbGUuY29tP2E9JDEnXG4gICAqXG4gICAqIEByZXR1cm5zIEVtcHR5IHN0cmluZyAoJycpIElmIHJ1bGUgc2hvdWxkIGJlIGFwcGxpZWQgYW5kIHNvdXJjZSBvYmplY3QgZG9lcyBub3QgYWZmZWN0IHJlc3VsdGluZyB1cmwuXG4gICAqIEluIHNvbWUgY2FzZXMgbGlrZSB3aWxkY2FyZCBtYXRjaCBvciByZWdleCBtYXRjaCwgcmVzdWx0aW5nVXJsIHdpbGwgYmUgZGVzdGluYXRpb24rcmVwbGFjZWQgZ3JvdXAgdmFyaWFibGVzLlxuICAgKi9cbiAgc3RhdGljIG1hdGNoVXJsV2l0aFJ1bGVTb3VyY2Uoc291cmNlT2JqZWN0LCB1cmwsIGRlc3RpbmF0aW9uKSB7XG4gICAgdmFyIG9wZXJhdG9yID0gc291cmNlT2JqZWN0Lm9wZXJhdG9yLFxuICAgICAgdXJsQ29tcG9uZW50ID0gZXh0cmFjdFVybENvbXBvbmVudCh1cmwsIHNvdXJjZU9iamVjdC5rZXkpLFxuICAgICAgdmFsdWUgPSBzb3VyY2VPYmplY3QudmFsdWUsXG4gICAgICBibGFja0xpc3RlZERvbWFpbnMgPSBDT05TVEFOVFMuQkxBQ0tfTElTVF9ET01BSU5TIHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGJsYWNrTGlzdGVkRG9tYWlucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmICh1cmwuaW5kZXhPZihibGFja0xpc3RlZERvbWFpbnNbaW5kZXhdKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJ1bGVNYXRjaGVyLm1hdGNoVXJsQ3JpdGVyaWEoXG4gICAgICB1cmxDb21wb25lbnQsXG4gICAgICBvcGVyYXRvcixcbiAgICAgIHZhbHVlLFxuICAgICAgZGVzdGluYXRpb25cbiAgICApO1xuICB9XG5cbiAgLy8gRGVzdGluYXRpb24gVXJsIGlzIG5vdCBwcmVzZW50IGluIGFsbCBydWxlIHR5cGVzIChlLmcuIENhbmNlbCwgUXVlcnlQYXJhbSlcbiAgLy8gV2UgcmV0dXJuIG51bGwgd2hlbiB1cmxDb21wb25lbnQgZG9lc24ndCBtYXRjaCB3aXRoIHRoZSB2YWx1ZVxuICAvLyBJZiB1cmxDb21wb25lbnQgbWF0Y2hlcyB3aXRoIHZhbHVlLCB3ZSByZXR1cm4gXCJcIiBlbXB0eSBzdHJpbmdcbiAgc3RhdGljIG1hdGNoVXJsQ3JpdGVyaWEodXJsQ29tcG9uZW50LCBvcGVyYXRvciwgdmFsdWUsIGRlc3RpbmF0aW9uKSB7XG4gICAgY29uc3QgcmVzdWx0aW5nVXJsID0gZGVzdGluYXRpb24gfHwgXCJcIjtcblxuICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgIGNhc2UgQ09OU1RBTlRTLlJVTEVfT1BFUkFUT1JTLkVRVUFMUzpcbiAgICAgICAgaWYgKHZhbHVlID09PSB1cmxDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0aW5nVXJsO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENPTlNUQU5UUy5SVUxFX09QRVJBVE9SUy5DT05UQUlOUzpcbiAgICAgICAgaWYgKHVybENvbXBvbmVudC5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0aW5nVXJsO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENPTlNUQU5UUy5SVUxFX09QRVJBVE9SUy5NQVRDSEVTOiB7XG4gICAgICAgIHJldHVybiBSdWxlTWF0Y2hlci5jaGVja1JlZ2V4TWF0Y2godmFsdWUsIHVybENvbXBvbmVudCwgcmVzdWx0aW5nVXJsKTtcbiAgICAgIH1cblxuICAgICAgY2FzZSBDT05TVEFOVFMuUlVMRV9PUEVSQVRPUlMuV0lMRENBUkRfTUFUQ0hFUzoge1xuICAgICAgICByZXR1cm4gUnVsZU1hdGNoZXIuY2hlY2tXaWxkQ2FyZE1hdGNoKFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHVybENvbXBvbmVudCxcbiAgICAgICAgICByZXN1bHRpbmdVcmxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gcGFpciBSdWxlUGFpciB1c2VkIGluIFJlZGlyZWN0LCBIZWFkZXJzIGV0Y1xuICAgKiBAcGFyYW0gdXJsIFVybCB3aGljaCBpcyBtYXRjaGVkIHdpdGggUnVsZVBhaXJzXG4gICAqIEBwYXJhbSByZXF1ZXN0RGV0YWlscyBkZXRhaWxzIG9mIHJlcXVlc3RcbiAgICogQHJldHVybnMgUmVzdWx0aW5nVXJsIHdoaWNoIGlzIG9idGFpbmVkIGFmdGVyIGFwcGx5aW5nIHJ1bGVQYWlycyB0byBpbnB1dCBVcmxcbiAgICovXG4gIHN0YXRpYyBtYXRjaFVybFdpdGhSdWxlUGFpcihwYWlyLCB1cmwsIHJlcXVlc3REZXRhaWxzKSB7XG4gICAgLy8gV2UgcGFzcyBkZXN0aW5hdGlvbiBhcyBudWxsIGluIENhbmNlbCBydWxlVHlwZVxuICAgIGxldCBkZXN0aW5hdGlvbiA9XG4gICAgICB0eXBlb2YgcGFpci5kZXN0aW5hdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiA/IHBhaXIuZGVzdGluYXRpb24gOiBudWxsO1xuICAgIGxldCBuZXdSZXN1bHRpbmdVcmwgPSBudWxsO1xuXG4gICAgaWYgKFxuICAgICAgUnVsZU1hdGNoZXIubWF0Y2hSZXF1ZXN0V2l0aFJ1bGVTb3VyY2VGaWx0ZXJzKFxuICAgICAgICBwYWlyLnNvdXJjZS5maWx0ZXJzLFxuICAgICAgICByZXF1ZXN0RGV0YWlsc1xuICAgICAgKVxuICAgICkge1xuICAgICAgbmV3UmVzdWx0aW5nVXJsID0gUnVsZU1hdGNoZXIubWF0Y2hVcmxXaXRoUnVsZVNvdXJjZShcbiAgICAgICAgcGFpci5zb3VyY2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgZGVzdGluYXRpb25cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1Jlc3VsdGluZ1VybDtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gcGFpcnMgUnVsZVBhaXJzIHVzZWQgaW4gUmVkaXJlY3QgYW5kIENhbmNlbCBSdWxlc1xuICAgKiBAcGFyYW0gdXJsIFVybCB3aGljaCBpcyBtYXRjaGVkIHdpdGggUnVsZVBhaXJzXG4gICAqIEBwYXJhbSByZXF1ZXN0RGV0YWlscyBkZXRhaWxzIG9mIHJlcXVlc3RcbiAgICogQHJldHVybnMgUmVzdWx0aW5nVXJsIHdoaWNoIGlzIG9idGFpbmVkIGFmdGVyIGFwcGx5aW5nIHJ1bGVQYWlycyB0byBpbnB1dCBVcmxcbiAgICovXG4gIHN0YXRpYyBtYXRjaFVybFdpdGhSdWxlUGFpcnMocGFpcnMsIHVybCwgcmVxdWVzdERldGFpbHMpIHtcbiAgICBsZXQgcGFpckluZGV4LFxuICAgICAgcmVzdWx0aW5nVXJsID0gdXJsLFxuICAgICAgbmV3UmVzdWx0aW5nVXJsID0gbnVsbDtcblxuICAgIGZvciAocGFpckluZGV4ID0gMDsgcGFpckluZGV4IDwgcGFpcnMubGVuZ3RoOyBwYWlySW5kZXgrKykge1xuICAgICAgbmV3UmVzdWx0aW5nVXJsID0gdGhpcy5tYXRjaFVybFdpdGhSdWxlUGFpcihcbiAgICAgICAgcGFpcnNbcGFpckluZGV4XSxcbiAgICAgICAgcmVzdWx0aW5nVXJsLFxuICAgICAgICByZXF1ZXN0RGV0YWlsc1xuICAgICAgKTtcbiAgICAgIGlmIChuZXdSZXN1bHRpbmdVcmwgIT09IG51bGwpIHtcbiAgICAgICAgcmVzdWx0aW5nVXJsID0gbmV3UmVzdWx0aW5nVXJsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRpbmdVcmwgIT09IHVybCA/IHJlc3VsdGluZ1VybCA6IG51bGw7XG4gIH1cblxuICBzdGF0aWMgbWF0Y2hSZXF1ZXN0V2l0aFJ1bGVTb3VyY2VGaWx0ZXJzKHNvdXJjZUZpbHRlcnMsIHJlcXVlc3REZXRhaWxzKSB7XG4gICAgaWYgKCFzb3VyY2VGaWx0ZXJzIHx8ICFyZXF1ZXN0RGV0YWlscykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgZmlsdGVyIGluIHNvdXJjZUZpbHRlcnMpIHtcbiAgICAgIGNvbnN0IGZpbHRlclZhbHVlcyA9IHNvdXJjZUZpbHRlcnNbZmlsdGVyXSB8fCBbXTtcblxuICAgICAgc3dpdGNoIChmaWx0ZXIpIHtcbiAgICAgICAgY2FzZSBDT05TVEFOVFMuUlVMRV9TT1VSQ0VfRklMVEVSX1RZUEVTLlBBR0VfVVJMOlxuICAgICAgICAgIGNvbnN0IG1hdGNoZWQgPSBmaWx0ZXJWYWx1ZXMuZXZlcnkoKHBhZ2VVcmxGaWx0ZXIpID0+XG4gICAgICAgICAgICBSdWxlTWF0Y2hlci5tYXRjaFBhZ2VVcmxGaWx0ZXIocGFnZVVybEZpbHRlciwgcmVxdWVzdERldGFpbHMpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIW1hdGNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBDT05TVEFOVFMuUlVMRV9TT1VSQ0VfRklMVEVSX1RZUEVTLlJFUVVFU1RfTUVUSE9EOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFmaWx0ZXJWYWx1ZXMuc29tZShcbiAgICAgICAgICAgICAgKHJlcXVlc3RNZXRob2RGaWx0ZXIpID0+XG4gICAgICAgICAgICAgICAgcmVxdWVzdERldGFpbHMubWV0aG9kID09PSByZXF1ZXN0TWV0aG9kRmlsdGVyXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQ09OU1RBTlRTLlJVTEVfU09VUkNFX0ZJTFRFUl9UWVBFUy5SRVNPVVJDRV9UWVBFOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFmaWx0ZXJWYWx1ZXMuc29tZShcbiAgICAgICAgICAgICAgKHJlcXVlc3RUeXBlRmlsdGVyKSA9PiByZXF1ZXN0RGV0YWlscy50eXBlID09PSByZXF1ZXN0VHlwZUZpbHRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIENPTlNUQU5UUy5SVUxFX1NPVVJDRV9GSUxURVJfVFlQRVMuUkVRVUVTVF9EQVRBOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICF0aGlzLmlzUmVxdWVzdFBheWxvYWRGaWx0ZXJBcHBsaWNhYmxlKFxuICAgICAgICAgICAgICByZXF1ZXN0RGV0YWlscy5yZXF1ZXN0RGF0YSxcbiAgICAgICAgICAgICAgZmlsdGVyVmFsdWVzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc3RhdGljIG1hdGNoUGFnZVVybEZpbHRlcihwYWdlVXJsRmlsdGVyLCByZXF1ZXN0RGV0YWlscykge1xuICAgIC8vIGNvbnN0IHBhZ2VVcmwgPSB3aW5kb3cudGFiU2VydmljZS5nZXRUYWJVcmwocmVxdWVzdERldGFpbHMudGFiSWQpO1xuICAgIGNvbnN0IHBhZ2VVcmwgPSByZXF1ZXN0RGV0YWlscy5wYWdlVXJsO1xuICAgIHJldHVybiAoXG4gICAgICBSdWxlTWF0Y2hlci5tYXRjaFVybENyaXRlcmlhKFxuICAgICAgICBwYWdlVXJsLFxuICAgICAgICBwYWdlVXJsRmlsdGVyLm9wZXJhdG9yLFxuICAgICAgICBwYWdlVXJsRmlsdGVyLnZhbHVlXG4gICAgICApICE9PSBudWxsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXRjaGVzIGdpdmVuIHZhbHVlIHdpdGggcHJlZGVmaW5lZCBmdW5jdGlvbiBwYXR0ZXJucyxcbiAgICogSWYgcGF0dGVybiBleGlzdHMsIHJlcGxhY2VzIHRoZSBwYXR0ZXJuIHdpdGggY29tcHV0ZWQgdmFsdWUgb3RoZXJ3aXNlIHJldHVybnMgdGhlIG9yaWdpbmFsIHZhbHVlXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKi9cbiAgc3RhdGljIG1hdGNoVmFsdWVGb3JQcmVkZWZpbmVkRnVuY3Rpb25zKHZhbHVlLCBwYXlsb2FkID0ge30pIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gdmFsdWU7XG5cbiAgICBmb3IgKGNvbnN0IHByZURlZkZ1bmNOYW1lIGluIFBSRURFRklORURfRlVOQ1RJT05TKSB7XG4gICAgICBjb25zdCBwcmVEZWZGdW5jID0gUFJFREVGSU5FRF9GVU5DVElPTlNbcHJlRGVmRnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIHByZURlZkZ1bmMuYXJndW1lbnRFdmFsdWF0b3IgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBhcmd1bWVudFBhdHRlcm47XG4gICAgICBpZiAoXG4gICAgICAgIHByZURlZkZ1bmMuYXJndW1lbnQuY29uc3RydWN0b3IgPT09IEFycmF5ICYmXG4gICAgICAgIHByZURlZkZ1bmMuYXJndW1lbnQubGVuZ3RoID4gMFxuICAgICAgKSB7XG4gICAgICAgIC8vIG11bHRpcGxlIGFyZ3VtZW50c1xuICAgICAgICBhcmd1bWVudFBhdHRlcm4gPSBwcmVEZWZGdW5jLmFyZ3VtZW50WzBdO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgcHJlRGVmRnVuYy5hcmd1bWVudC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICBhcmd1bWVudFBhdHRlcm4gKz1cbiAgICAgICAgICAgIFwiKFwiICsgUEFUVEVSTlMuQ09NTUEgKyBwcmVEZWZGdW5jLmFyZ3VtZW50W2luZGV4XSArIFwiKT9cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJndW1lbnRQYXR0ZXJuID0gcHJlRGVmRnVuYy5hcmd1bWVudDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGF0dGVybiA9XG4gICAgICAgIHByZURlZkZ1bmMucGF0dGVybiB8fFxuICAgICAgICBuZXcgUmVnRXhwKHByZURlZkZ1bmMubmFtZSArIFwiXFxcXChcIiArIGFyZ3VtZW50UGF0dGVybiArIFwiXFxcXClcIiwgXCJpZ1wiKTtcblxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHBhdHRlcm4sIGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IHRva2VuLm1hdGNoKFxuICAgICAgICAgICAgbmV3IFJlZ0V4cChwcmVEZWZGdW5jLm5hbWUgKyBcIlxcXFwoKC4qKVxcXFwpXCIsIFwiaVwiKVxuICAgICAgICAgICksIC8vIGV4dHJhY3QgYXJndW1lbnQgZnJvbSBycV9mdW5jKGFyZ3VtZW50KVxuICAgICAgICAgIGFyZ3MgPSBbXTtcblxuICAgICAgICBpZiAobWF0Y2hlcyAhPSBudWxsICYmIG1hdGNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIG1hdGNoZXNbMV0uc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGFyZy50cmltKCkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHByZURlZkZ1bmMuYXJndW1lbnRFdmFsdWF0b3IoYXJncywgcGF5bG9hZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBzdGF0aWMgZ2V0SGVhZGVyTW9kaWZpY2F0aW9uKHJ1bGVUeXBlLCBydWxlUGFpcikge1xuICAgIHZhciBtb2RpZmljYXRpb247XG5cbiAgICBpZiAocnVsZVR5cGUgPT09IENPTlNUQU5UUy5SVUxFX1RZUEVTLlVTRVJBR0VOVCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc291cmNlOiBydWxlUGFpci5zb3VyY2UsXG4gICAgICAgIHRhcmdldDogQ09OU1RBTlRTLkhFQURFUlNfVEFSR0VULlJFUVVFU1QsXG4gICAgICAgIHR5cGU6IENPTlNUQU5UUy5NT0RJRklDQVRJT05fVFlQRVMuUkVQTEFDRSxcbiAgICAgICAgaGVhZGVyOiBDT05TVEFOVFMuSEVBREVSX05BTUVTLlVTRVJfQUdFTlQsXG4gICAgICAgIHZhbHVlOiBydWxlUGFpci51c2VyQWdlbnQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIG1vZGlmaWNhdGlvbiA9IHJ1bGVQYWlyO1xuICAgIG1vZGlmaWNhdGlvbi5zb3VyY2UgPSBtb2RpZmljYXRpb24uc291cmNlIHx8IHt9O1xuICAgIHJldHVybiBtb2RpZmljYXRpb247XG4gIH1cblxuICBzdGF0aWMgYWRkSGVhZGVyKGhlYWRlcnMsIG5ld0hlYWRlcikge1xuICAgIGhlYWRlcnMucHVzaCh7IG5hbWU6IG5ld0hlYWRlci5uYW1lLCB2YWx1ZTogbmV3SGVhZGVyLnZhbHVlIH0pO1xuICB9XG5cbiAgc3RhdGljIHJlbW92ZUhlYWRlcihoZWFkZXJzLCBuYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IGhlYWRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBoZWFkZXIgPSBoZWFkZXJzW2ldO1xuICAgICAgaWYgKGhlYWRlci5uYW1lICYmIGhlYWRlci5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBoZWFkZXJzLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgbW9kaWZ5SGVhZGVySWZFeGlzdHMoaGVhZGVycywgbmV3SGVhZGVyKSB7XG4gICAgZm9yICh2YXIgaSA9IGhlYWRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBoZWFkZXIgPSBoZWFkZXJzW2ldO1xuICAgICAgaWYgKFxuICAgICAgICBoZWFkZXIubmFtZSAmJlxuICAgICAgICBoZWFkZXIubmFtZS50b0xvd2VyQ2FzZSgpID09PSBuZXdIZWFkZXIubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICApIHtcbiAgICAgICAgaGVhZGVyLnZhbHVlID0gbmV3SGVhZGVyLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgcmVwbGFjZUhlYWRlcihoZWFkZXJzLCBuZXdIZWFkZXIpIHtcbiAgICB0aGlzLnJlbW92ZUhlYWRlcihoZWFkZXJzLCBuZXdIZWFkZXIubmFtZSk7XG4gICAgdGhpcy5hZGRIZWFkZXIoaGVhZGVycywgbmV3SGVhZGVyKTtcbiAgfVxuICAvLyBDb3BpZWQgZnJvbSBicm93c2VyLWV4dGVuc2lvbiAtIHJlc3BvbnNlUnVsZUhhbmRsZXIuanNcbiAgc3RhdGljIGlzUmVxdWVzdFBheWxvYWRGaWx0ZXJBcHBsaWNhYmxlKHJlcXVlc3REYXRhLCByZXF1ZXN0UGF5bG9hZEZpbHRlcikge1xuICAgIGlmICghcmVxdWVzdFBheWxvYWRGaWx0ZXIpIHJldHVybiB0cnVlO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiByZXF1ZXN0UGF5bG9hZEZpbHRlciA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgT2JqZWN0LmtleXMocmVxdWVzdFBheWxvYWRGaWx0ZXIpLmxlbmd0aCA9PT0gMFxuICAgIClcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgLy8gV2Ugb25seSBhbGxvdyByZXF1ZXN0IHBheWxvYWQgdGFyZ2V0aW5nIHdoZW4gcmVxdWVzdERhdGEgaXMgSlNPTlxuICAgIGlmICghcmVxdWVzdERhdGEgfHwgdHlwZW9mIHJlcXVlc3REYXRhICE9PSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKE9iamVjdC5rZXlzKHJlcXVlc3REYXRhKS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgIHJlcXVlc3RQYXlsb2FkRmlsdGVyID0gcmVxdWVzdFBheWxvYWRGaWx0ZXIgfHwge307XG4gICAgY29uc3QgdGFyZ2V0dGVkS2V5ID0gcmVxdWVzdFBheWxvYWRGaWx0ZXI/LmtleTtcblxuICAgIC8vIHRhZ2V0dGVkS2V5IGlzIHRoZSBqc29uIHBhdGggZS5nLiBhLmIuMC5jXG4gICAgaWYgKHRhcmdldHRlZEtleSkge1xuICAgICAgY29uc3QgdmFsdWVJblJlcXVlc3REYXRhID0gdHJhdmVyc2VKc29uQnlQYXRoKHJlcXVlc3REYXRhLCB0YXJnZXR0ZWRLZXkpO1xuICAgICAgcmV0dXJuIHZhbHVlSW5SZXF1ZXN0RGF0YSA9PSByZXF1ZXN0UGF5bG9hZEZpbHRlcj8udmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJ1bGVNYXRjaGVyO1xuIiwiY29uc3QgTE9DQUxfQ09OU1RBTlRTID0ge1xuICBBQ1RJT05TOiB7XG4gICAgQkxPQ0s6IFwiYmxvY2tcIixcbiAgICBSRURJUkVDVDogXCJyZWRpcmVjdFwiLFxuICAgIEFERF9ERUxBWTogJ2FkZF9kZWxheSdcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExPQ0FMX0NPTlNUQU5UUztcbiIsImltcG9ydCBSdWxlSGVscGVyIGZyb20gXCIuLi9SdWxlSGVscGVyXCI7XG5jb25zdCBDT05TVEFOVFMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50c1wiKTtcblxuY2xhc3MgSGVhZGVyc1J1bGVQcm9jZXNzb3Ige1xuICBzdGF0aWMgcHJvY2Vzcyh7XG4gICAgcnVsZSxcbiAgICByZXF1ZXN0VVJMLFxuICAgIGRldGFpbHMsXG4gICAgb3JpZ2luYWxIZWFkZXJzLCAvLyBhcnJheSBbeyBuYW1lOiBoZWFkZXJfbmFtZSx2YWx1ZTogaGVhZGVyX3ZhbCB9XVxuICAgIHR5cGVPZkhlYWRlcnMsIC8vIFJlcXVlc3Qgb3IgUmVzcG9uc2UgfCBQcm9jZXNzIGFsbCBraW5kcyBpZiBvbWl0dGVkLFxuICAgIHBheWxvYWQgPSB7fSwgLy8gT3B0aW9uYWwgcGF5bG9hZCBFWDoge3JlcXVlc3RPcmlnaW46U1RSSU5HfVxuICB9KSB7XG4gICAgbGV0IGlzUnVsZUFwcGxpZWQgPSBmYWxzZSxcbiAgICAgIHJ1bGVQYWlycyA9IHJ1bGUucGFpcnMgfHwgW107XG5cbiAgICBsZXQgbmV3SGVhZGVycyA9IFsuLi5vcmlnaW5hbEhlYWRlcnNdO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJ1bGVQYWlycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGxldCBydWxlUGFpciA9IHJ1bGVQYWlyc1tpbmRleF07XG5cbiAgICAgIC8vIFdlIGdlbmVyYXRlIG1vZGlmaWNhdGlvblR5cGUsIHRhcmdldCBldGMgZm9yIFVBIHJ1bGUgaW4gdGhpcyBtZXRob2QuIFRoZXNlIGZpZWxkcyBhcmUgbm90IHBlcnNpc3RlZFxuICAgICAgLy8gbGV0IG1vZGlmaWNhdGlvbiA9IFJ1bGVIZWxwZXIuZ2V0SGVhZGVyTW9kaWZpY2F0aW9uKHJ1bGVUeXBlLCBydWxlUGFpcik7XG4gICAgICBsZXQgbW9kaWZpY2F0aW9uID0gcnVsZVBhaXI7XG5cbiAgICAgIGlmICghbW9kaWZpY2F0aW9uLnRhcmdldCB8fCAhbW9kaWZpY2F0aW9uLmhlYWRlcikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBSdWxlSGVscGVyLm1hdGNoVXJsV2l0aFJ1bGVQYWlyKHJ1bGVQYWlyLCByZXF1ZXN0VVJMLCBkZXRhaWxzKSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpc1J1bGVBcHBsaWVkID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVPZkhlYWRlcnMgJiYgbW9kaWZpY2F0aW9uLnRhcmdldCAhPT0gdHlwZU9mSGVhZGVycykgY29udGludWU7XG5cbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgaGFzIHVzZWQgcHJlZGVmaW5lZEZ1bmN0aW9uIGluIChhZGQvbW9kaWZ5KSBoZWFkZXIgdmFsdWVcbiAgICAgIHZhciB2YWx1ZVdpdGhQcmVEZWZGdW5jdGlvbnNBcHBsaWVkID0gUnVsZUhlbHBlci5tYXRjaFZhbHVlRm9yUHJlZGVmaW5lZEZ1bmN0aW9ucyhcbiAgICAgICAgbW9kaWZpY2F0aW9uLnZhbHVlLFxuICAgICAgICBwYXlsb2FkXG4gICAgICApO1xuXG4gICAgICBzd2l0Y2ggKG1vZGlmaWNhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgQ09OU1RBTlRTLk1PRElGSUNBVElPTl9UWVBFUy5BREQ6XG4gICAgICAgICAgUnVsZUhlbHBlci5hZGRIZWFkZXIobmV3SGVhZGVycywge1xuICAgICAgICAgICAgbmFtZTogbW9kaWZpY2F0aW9uLmhlYWRlcixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVdpdGhQcmVEZWZGdW5jdGlvbnNBcHBsaWVkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQ09OU1RBTlRTLk1PRElGSUNBVElPTl9UWVBFUy5SRU1PVkU6XG4gICAgICAgICAgUnVsZUhlbHBlci5yZW1vdmVIZWFkZXIobmV3SGVhZGVycywgbW9kaWZpY2F0aW9uLmhlYWRlcik7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBDT05TVEFOVFMuTU9ESUZJQ0FUSU9OX1RZUEVTLk1PRElGWTpcbiAgICAgICAgICBSdWxlSGVscGVyLm1vZGlmeUhlYWRlcklmRXhpc3RzKG5ld0hlYWRlcnMsIHtcbiAgICAgICAgICAgIG5hbWU6IG1vZGlmaWNhdGlvbi5oZWFkZXIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVXaXRoUHJlRGVmRnVuY3Rpb25zQXBwbGllZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgaGVhZGVyIGlzIHNlbnQgb25seSBvbmNlLlxuICAgICAgICAvLyBJZiBpdCBpcyBub3QgcHJlc2VudCwgd2Ugd2lsbCBhZGQgdGhpcyBoZWFkZXIgb3RoZXJ3aXNlIG1vZGlmeSB0aGUgZXhpc3Rpbmcgb25lXG4gICAgICAgIGNhc2UgQ09OU1RBTlRTLk1PRElGSUNBVElPTl9UWVBFUy5SRVBMQUNFOlxuICAgICAgICAgIFJ1bGVIZWxwZXIucmVwbGFjZUhlYWRlcihuZXdIZWFkZXJzLCB7XG4gICAgICAgICAgICBuYW1lOiBtb2RpZmljYXRpb24uaGVhZGVyLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlV2l0aFByZURlZkZ1bmN0aW9uc0FwcGxpZWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgcnVsZSBpcyBub3QgYXBwbGllZCBhbmQgd2UgcmV0dXJuIGhlYWRlcnMgb2JqZWN0IHdpdGhvdXQgYW55IGNoYW5nZSwgdGhlbiBjaHJvbWUgdHJlYXRzIHRoZW0gYXMgbW9kaWZpY2F0aW9uXG4gICAgLy8gQW5kIHNvbWUgd2Vic2l0ZXMgYnJlYWsgZHVlIHRvIHRoaXMuXG4gICAgcmV0dXJuIGlzUnVsZUFwcGxpZWRcbiAgICAgID8ge1xuICAgICAgICAgIGFjdGlvbjogXCJtb2RpZnlfaGVhZGVyc1wiLFxuICAgICAgICAgIG5ld0hlYWRlcnMsXG4gICAgICAgICAgb3JpZ2luYWxIZWFkZXJzLFxuICAgICAgICB9XG4gICAgICA6IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyc1J1bGVQcm9jZXNzb3I7XG4iLCJpbXBvcnQgUnVsZUhlbHBlciBmcm9tIFwiLi4vUnVsZUhlbHBlclwiO1xuaW1wb3J0IHtcbiAgZ2V0VXJsV2l0aG91dFF1ZXJ5UGFyYW1zQW5kSGFzaCxcbiAgZXh0cmFjdFVybENvbXBvbmVudCxcbiAgZ2V0UXVlcnlQYXJhbXNNYXAsXG4gIGNvbnZlcnRRdWVyeVBhcmFtTWFwVG9TdHJpbmcsXG4gIGFkZFF1ZXJ5UGFyYW1Ub1VSTCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb21wb25lbnRzL3V0aWxzL3V0aWxzXCI7XG5cbmNvbnN0IENPTlNUQU5UUyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9jb21tb24vY29uc3RhbnRzXCIpO1xuXG5jbGFzcyBRdWVyeVBhcmFtc1J1bGVQcm9jZXNzb3Ige1xuICBzdGF0aWMgcHJvY2Vzcyh7IHJ1bGUsIHJlcXVlc3RVUkwsIGRldGFpbHMgfSkge1xuICAgIGNvbnN0IHVybCA9IHJlcXVlc3RVUkw7XG4gICAgbGV0IHBhaXJzID0gcnVsZS5wYWlycyxcbiAgICAgIHBhaXIgPSBudWxsLFxuICAgICAgcmVzdWx0aW5nVXJsID0gdXJsO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAvLyBJZiBTb3VyY2UgZG9lcyBub3QgbWF0Y2gsIHByb2NlZWQgd2l0aCBuZXh0IHBhaXJcbiAgICAgIGlmIChcbiAgICAgICAgIVJ1bGVIZWxwZXIubWF0Y2hSZXF1ZXN0V2l0aFJ1bGVTb3VyY2VGaWx0ZXJzKFxuICAgICAgICAgIHBhaXIuc291cmNlLmZpbHRlcnMsXG4gICAgICAgICAgZGV0YWlsc1xuICAgICAgICApIHx8XG4gICAgICAgIFJ1bGVIZWxwZXIubWF0Y2hVcmxXaXRoUnVsZVNvdXJjZShwYWlyLnNvdXJjZSwgdXJsKSA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRpbmdVcmwgPSB0aGlzLmFwcGx5UXVlcnlQYXJhbU1vZGlmaWNhdGlvbnMoXG4gICAgICAgIHBhaXIubW9kaWZpY2F0aW9ucyxcbiAgICAgICAgcmVzdWx0aW5nVXJsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRpbmdVcmwgIT09IHVybFxuICAgICAgPyB7IGFjdGlvbjogXCJyZWRpcmVjdFwiLCB1cmw6IHJlc3VsdGluZ1VybCB9XG4gICAgICA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgbGlzdCBvZiBxdWVyeSBwYXJhbSBtb2RpZmljYXRpb25zIHRvIGdpdmVuIHVybFxuICAgKiBAcGFyYW0gbW9kaWZpY2F0aW9uc1xuICAgKiBAcGFyYW0gdXJsXG4gICAqIEByZXR1cm5zIEZpbmFsIFVybCBhZnRlciBhcHBseWluZyB0aGUgZ2l2ZW4gbW9kaWZpY2F0aW9ucyB0byBpbnB1dCB1cmxcbiAgICovXG4gIHN0YXRpYyBhcHBseVF1ZXJ5UGFyYW1Nb2RpZmljYXRpb25zKG1vZGlmaWNhdGlvbnMsIHVybCkge1xuICAgIGxldCByZXN1bHRpbmdVcmwgPSB1cmw7XG5cbiAgICBtb2RpZmljYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWNhdGlvbikge1xuICAgICAgcmVzdWx0aW5nVXJsID0gUXVlcnlQYXJhbXNSdWxlUHJvY2Vzc29yLmFwcGx5UXVlcnlQYXJhbU1vZGlmaWNhdGlvbihcbiAgICAgICAgbW9kaWZpY2F0aW9uLFxuICAgICAgICByZXN1bHRpbmdVcmxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nVXJsO1xuICB9XG5cbiAgc3RhdGljIGFwcGx5UXVlcnlQYXJhbU1vZGlmaWNhdGlvbihtb2RpZmljYXRpb24sIHVybCkge1xuICAgIGxldCByZXN1bHRpbmdVcmwgPSB1cmwsXG4gICAgICB1cmxXaXRob3V0UXVlcnlQYXJhbXMgPSBnZXRVcmxXaXRob3V0UXVlcnlQYXJhbXNBbmRIYXNoKHVybCksXG4gICAgICB1cmxIYXNoID0gZXh0cmFjdFVybENvbXBvbmVudCh1cmwsIENPTlNUQU5UUy5VUkxfQ09NUE9ORU5UUy5IQVNIKSxcbiAgICAgIHF1ZXJ5U3RyaW5nID0gZXh0cmFjdFVybENvbXBvbmVudCh1cmwsIENPTlNUQU5UUy5VUkxfQ09NUE9ORU5UUy5RVUVSWSksXG4gICAgICBxdWVyeVBhcmFtc01hcCA9IGdldFF1ZXJ5UGFyYW1zTWFwKHF1ZXJ5U3RyaW5nKSxcbiAgICAgIHBhcmFtTmFtZSA9IG1vZGlmaWNhdGlvbi5wYXJhbSxcbiAgICAgIHBhcmFtVmFsdWUgPSBtb2RpZmljYXRpb24udmFsdWU7XG5cbiAgICBzd2l0Y2ggKG1vZGlmaWNhdGlvbi50eXBlKSB7XG4gICAgICBjYXNlIENPTlNUQU5UUy5NT0RJRklDQVRJT05fVFlQRVMuQUREOlxuICAgICAgICBjb25zdCBvdmVyd3JpdGUgPSBtb2RpZmljYXRpb24uYWN0aW9uV2hlblBhcmFtRXhpc3RzID09PSBcIk92ZXJ3cml0ZVwiO1xuICAgICAgICByZXN1bHRpbmdVcmwgPSBhZGRRdWVyeVBhcmFtVG9VUkwoXG4gICAgICAgICAgcmVzdWx0aW5nVXJsLFxuICAgICAgICAgIHBhcmFtTmFtZSxcbiAgICAgICAgICBwYXJhbVZhbHVlLFxuICAgICAgICAgIG92ZXJ3cml0ZVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChtb2RpZmljYXRpb24uYWN0aW9uV2hlblBhcmFtRXhpc3RzID09PSBcIklnbm9yZVwiKSB7XG4gICAgICAgICAgcmVzdWx0aW5nVXJsID0gdXJsO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENPTlNUQU5UUy5NT0RJRklDQVRJT05fVFlQRVMuUkVNT1ZFOlxuICAgICAgICBpZiAocGFyYW1OYW1lIGluIHF1ZXJ5UGFyYW1zTWFwKSB7XG4gICAgICAgICAgZGVsZXRlIHF1ZXJ5UGFyYW1zTWFwW3BhcmFtTmFtZV07XG5cbiAgICAgICAgICBxdWVyeVN0cmluZyA9IGNvbnZlcnRRdWVyeVBhcmFtTWFwVG9TdHJpbmcocXVlcnlQYXJhbXNNYXApO1xuXG4gICAgICAgICAgcmVzdWx0aW5nVXJsID0gcXVlcnlTdHJpbmdcbiAgICAgICAgICAgID8gdXJsV2l0aG91dFF1ZXJ5UGFyYW1zICsgXCI/XCIgKyBxdWVyeVN0cmluZ1xuICAgICAgICAgICAgOiB1cmxXaXRob3V0UXVlcnlQYXJhbXM7XG4gICAgICAgICAgcmVzdWx0aW5nVXJsICs9IHVybEhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ09OU1RBTlRTLk1PRElGSUNBVElPTl9UWVBFUy5SRU1PVkVfQUxMOlxuICAgICAgICByZXN1bHRpbmdVcmwgPSB1cmxXaXRob3V0UXVlcnlQYXJhbXMgKyB1cmxIYXNoO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nVXJsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFF1ZXJ5UGFyYW1zUnVsZVByb2Nlc3NvcjtcbiIsImltcG9ydCBSdWxlSGVscGVyIGZyb20gXCIuLi9SdWxlSGVscGVyXCI7XG5jb25zdCBDT05TVEFOVFMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50c1wiKTtcblxuY2xhc3MgU2NyaXB0UnVsZVByb2Nlc3NvciB7XG4gIHN0YXRpYyBwcm9jZXNzKHsgcnVsZSwgcmVxdWVzdFVSTCB9KSB7XG4gICAgLy8gU2NyaXB0IHJ1bGUgaXMgYWx3YXlzIHNpbmdsZSBwYWlyZWRcbiAgICB2YXIgcGFpciA9IHJ1bGUucGFpcnNbMF07XG5cbiAgICBpZiAoUnVsZUhlbHBlci5tYXRjaFVybFdpdGhSdWxlUGFpcihwYWlyLCByZXF1ZXN0VVJMKSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgICB2YXIgbGlicmFyaWVzID0gW10sXG4gICAgICBzY3JpcHRzID0gW107XG5cbiAgICBwYWlyLmxpYnJhcmllcyAmJlxuICAgICAgcGFpci5saWJyYXJpZXMuZm9yRWFjaChmdW5jdGlvbiAobGlicmFyeSkge1xuICAgICAgICBpZiAoIWxpYnJhcmllcy5pbmNsdWRlcyhsaWJyYXJ5KSkge1xuICAgICAgICAgIGxpYnJhcmllcy5wdXNoKGxpYnJhcnkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHNjcmlwdHMgPSBzY3JpcHRzLmNvbmNhdChwYWlyLnNjcmlwdHMgfHwgW10pO1xuXG4gICAgdmFyIGNzc1NjcmlwdHMgPSBzY3JpcHRzLmZpbHRlcihmdW5jdGlvbiAoc2NyaXB0KSB7XG4gICAgICByZXR1cm4gc2NyaXB0LmNvZGVUeXBlID09PSBDT05TVEFOVFMuU0NSSVBUX0NPREVfVFlQRVMuQ1NTO1xuICAgIH0pO1xuXG4gICAgdmFyIGpzU2NyaXB0cyA9IHNjcmlwdHMuZmlsdGVyKGZ1bmN0aW9uIChzY3JpcHQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICFzY3JpcHQuY29kZVR5cGUgfHwgc2NyaXB0LmNvZGVUeXBlID09PSBDT05TVEFOVFMuU0NSSVBUX0NPREVfVFlQRVMuSlNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBcImluc2VydFwiLFxuICAgICAgZGF0YToge1xuICAgICAgICBjc3NTY3JpcHRzLFxuICAgICAgICBqc1NjcmlwdHMsXG4gICAgICAgIGxpYnJhcmllcyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JpcHRSdWxlUHJvY2Vzc29yO1xuIiwiaW1wb3J0IFJ1bGVIZWxwZXIgZnJvbSBcIi4uL1J1bGVIZWxwZXJcIjtcbmNvbnN0IENPTlNUQU5UUyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9jb21tb24vY29uc3RhbnRzXCIpO1xuXG5jbGFzcyBVc2VyQWdlbnRSdWxlUHJvY2Vzc29yIHtcbiAgc3RhdGljIHByb2Nlc3Moe1xuICAgIHJ1bGUsXG4gICAgcmVxdWVzdFVSTCxcbiAgICBvcmlnaW5hbFJlcXVlc3RIZWFkZXJzID0gW10sXG4gICAgZGV0YWlscyA9IHt9LFxuICB9KSB7XG4gICAgY29uc29sZS5sb2coeyBydWxlLCByZXF1ZXN0VVJMLCBvcmlnaW5hbFJlcXVlc3RIZWFkZXJzLCBkZXRhaWxzIH0pO1xuXG4gICAgbGV0IGlzUnVsZUFwcGxpZWQgPSBmYWxzZTtcbiAgICBsZXQgbmV3UmVxdWVzdEhlYWRlcnMgPSBbLi4ub3JpZ2luYWxSZXF1ZXN0SGVhZGVyc107XG4gICAgY29uc3QgcnVsZVR5cGUgPSBydWxlLnJ1bGVUeXBlO1xuICAgIGNvbnN0IHJ1bGVQYWlycyA9IHJ1bGUucGFpcnMgfHwgW107XG5cbiAgICBsZXQgbWFpbkZyYW1lVXJsID0gbnVsbDtcbiAgICBpZiAoZGV0YWlscyAmJiBkZXRhaWxzLnBhZ2VEb21haW4pIG1haW5GcmFtZVVybCA9IGRldGFpbHMucGFnZURvbWFpbjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcnVsZVBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcnVsZVBhaXIgPSBydWxlUGFpcnNbaV07XG5cbiAgICAgIGxldCBtb2RpZmljYXRpb24gPSBSdWxlSGVscGVyLmdldEhlYWRlck1vZGlmaWNhdGlvbihydWxlVHlwZSwgcnVsZVBhaXIpO1xuXG4gICAgICAvLyBJZiBTb3VyY2UgVmFsdWUgZXhpc3RzIGFuZCBkb2VzIG5vdCBtYXRjaCwgcHJvY2VlZCB3aXRoIG5leHQgcGFpclxuICAgICAgLy8gSW4gVUEgUnVsZSBUeXBlLCB3ZSBtYXRjaCBTb3VyY2UgT2JqZWN0IHdpdGggbWFpbkZyYW1lIGFzIHdlbGxcbiAgICAgIGlmIChcbiAgICAgICAgbW9kaWZpY2F0aW9uLnNvdXJjZS52YWx1ZSAmJlxuICAgICAgICBSdWxlSGVscGVyLm1hdGNoVXJsV2l0aFJ1bGVTb3VyY2UobW9kaWZpY2F0aW9uLnNvdXJjZSwgcmVxdWVzdFVSTCkgPT09XG4gICAgICAgICAgbnVsbCAmJlxuICAgICAgICAhKFxuICAgICAgICAgIHJ1bGVUeXBlID09PSBDT05TVEFOVFMuUlVMRV9UWVBFUy5VU0VSQUdFTlQgJiZcbiAgICAgICAgICBtb2RpZmljYXRpb24uc291cmNlLnJlcXVlc3RUeXBlID09PVxuICAgICAgICAgICAgQ09OU1RBTlRTLlJFUVVFU1RfVFlQRVMuTUFJTl9GUkFNRSAmJlxuICAgICAgICAgIG1haW5GcmFtZVVybCAmJlxuICAgICAgICAgIFJ1bGVIZWxwZXIubWF0Y2hVcmxXaXRoUnVsZVNvdXJjZShcbiAgICAgICAgICAgIG1vZGlmaWNhdGlvbi5zb3VyY2UsXG4gICAgICAgICAgICBtYWluRnJhbWVVcmxcbiAgICAgICAgICApICE9PSBudWxsXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlzUnVsZUFwcGxpZWQgPSB0cnVlO1xuXG4gICAgICBSdWxlSGVscGVyLnJlcGxhY2VIZWFkZXIobmV3UmVxdWVzdEhlYWRlcnMsIHtcbiAgICAgICAgbmFtZTogbW9kaWZpY2F0aW9uLmhlYWRlcixcbiAgICAgICAgdmFsdWU6IG1vZGlmaWNhdGlvbi52YWx1ZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIElmIHJ1bGUgaXMgbm90IGFwcGxpZWQgYW5kIHdlIHJldHVybiBoZWFkZXJzIG9iamVjdCB3aXRob3V0IGFueSBjaGFuZ2UsIHRoZW4gY2hyb21lIHRyZWF0cyB0aGVtIGFzIG1vZGlmaWNhdGlvblxuICAgIC8vIEFuZCBzb21lIHdlYnNpdGVzIGJyZWFrIGR1ZSB0byB0aGlzLlxuICAgIHJldHVybiBpc1J1bGVBcHBsaWVkXG4gICAgICA/IHtcbiAgICAgICAgICBhY3Rpb246IFwibW9kaWZ5X3VzZXJfYWdlbnRcIixcbiAgICAgICAgICBuZXdSZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgfVxuICAgICAgOiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJBZ2VudFJ1bGVQcm9jZXNzb3I7XG4iLCJpbXBvcnQgUnVsZUhlbHBlciBmcm9tIFwiLi4vUnVsZUhlbHBlclwiO1xuXG4vKiBDT05TVEFOVFMgKi9cbmltcG9ydCBMT0NBTF9DT05TVEFOVFMgZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuY29uc3QgQ09OU1RBTlRTID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb25zdGFudHMvaW5kZXhcIik7XG5cbmNsYXNzIERlbGF5UmVxdWVzdFJ1bGVQcm9jZXNzb3Ige1xuICBzdGF0aWMgcHJvY2Vzcyh7IHJ1bGUsIHJlcXVlc3RVUkwsIGRldGFpbHMgfSkge1xuICAgIGxldCBwYWlycyA9IHJ1bGUucGFpcnMsXG4gICAgICBwYWlyID0gbnVsbCxcbiAgICAgIHJlc3VsdGluZ1VybCA9IHJlcXVlc3RVUkwsXG4gICAgICBkZWxheSA9IG51bGwsXG4gICAgICBkZWxheVR5cGUgPSBudWxsO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAvLyBJZiBTb3VyY2UgZG9lcyBub3QgbWF0Y2gsIHByb2NlZWQgd2l0aCBuZXh0IHBhaXJcbiAgICAgIGlmIChcbiAgICAgICAgIVJ1bGVIZWxwZXIubWF0Y2hSZXF1ZXN0V2l0aFJ1bGVTb3VyY2VGaWx0ZXJzKFxuICAgICAgICAgIHBhaXIuc291cmNlLmZpbHRlcnMsXG4gICAgICAgICAgZGV0YWlsc1xuICAgICAgICApIHx8XG4gICAgICAgIFJ1bGVIZWxwZXIubWF0Y2hVcmxXaXRoUnVsZVNvdXJjZShwYWlyLnNvdXJjZSwgcmVxdWVzdFVSTCkgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgU291cmNlIFZhbHVlIGV4aXN0cyBhbmQgZG9lcyBub3QgbWF0Y2gsIHByb2NlZWQgd2l0aCBuZXh0IHBhaXJcbiAgICAgIGlmIChcbiAgICAgICAgcGFpci5zb3VyY2UgJiZcbiAgICAgICAgcGFpci5zb3VyY2UudmFsdWUgJiZcbiAgICAgICAgUnVsZUhlbHBlci5tYXRjaFVybFdpdGhSdWxlU291cmNlKHBhaXIuc291cmNlLCByZXN1bHRpbmdVcmwpID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlc3VsdGluZ1VybCA9IFJ1bGVIZWxwZXIubWF0Y2hWYWx1ZUZvclByZWRlZmluZWRGdW5jdGlvbnMoXG4gICAgICAvLyAgIHJlc3VsdGluZ1VybCxcbiAgICAgIC8vICAgUlEuUHJlRGVmaW5lZEZ1bmN0aW9uc1xuICAgICAgLy8gKTtcblxuICAgICAgZGVsYXkgPSBwYWlyLmRlbGF5O1xuICAgICAgZGVsYXlUeXBlID1cbiAgICAgICAgcGFpci5kZWxheVR5cGUgfHxcbiAgICAgICAgQ09OU1RBTlRTLkRFTEFZX1JFUVVFU1RfQ09OU1RBTlRTLkRFTEFZX1RZUEUuQ0xJRU5UX1NJREU7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbjogTE9DQUxfQ09OU1RBTlRTLkFDVElPTlMuQUREX0RFTEFZLFxuICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgIGRlbGF5VHlwZTogZGVsYXlUeXBlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRGVsYXlSZXF1ZXN0UnVsZVByb2Nlc3NvcjtcbiIsImNvbnN0IENPTlNUQU5UUyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb21tb24vY29uc3RhbnRzXCIpO1xuaW1wb3J0IFJlcGxhY2VSdWxlUHJvY2Vzc29yIGZyb20gXCIuL3Byb2Nlc3NvcnMvUmVwbGFjZVJ1bGVQcm9jZXNzb3JcIjtcbmltcG9ydCBSZWRpcmVjdFJ1bGVQcm9jZXNzb3IgZnJvbSBcIi4vcHJvY2Vzc29ycy9SZWRpcmVjdFJ1bGVQcm9jZXNzb3JcIjtcbmltcG9ydCBIZWFkZXJzUnVsZVByb2Nlc3NvciBmcm9tIFwiLi9wcm9jZXNzb3JzL0hlYWRlcnNSdWxlUHJvY2Vzc29yXCI7XG5pbXBvcnQgQmxvY2tSZXF1ZXN0UnVsZVByb2Nlc3NvciBmcm9tIFwiLi9wcm9jZXNzb3JzL0Jsb2NrUmVxdWVzdFJ1bGVQcm9jZXNzb3JcIjtcbmltcG9ydCBRdWVyeVBhcmFtc1J1bGVQcm9jZXNzb3IgZnJvbSBcIi4vcHJvY2Vzc29ycy9RdWVyeVBhcmFtc1J1bGVQcm9jZXNzb3JcIjtcbmltcG9ydCBTY3JpcHRSdWxlUHJvY2Vzc29yIGZyb20gXCIuL3Byb2Nlc3NvcnMvU2NyaXB0UnVsZVByb2Nlc3NvclwiO1xuaW1wb3J0IFVzZXJBZ2VudFJ1bGVQcm9jZXNzb3IgZnJvbSBcIi4vcHJvY2Vzc29ycy9Vc2VyQWdlbnRSdWxlUHJvY2Vzc29yXCI7XG5pbXBvcnQgRGVsYXlSZXF1ZXN0UnVsZVByb2Nlc3NvciBmcm9tIFwiLi9wcm9jZXNzb3JzL0RlbGF5UmVxdWVzdFJ1bGVQcm9jZXNzb3JcIjtcbmltcG9ydCBNb2RpZnlSZXNwb25zZVJ1bGVQcm9jZXNzb3IgZnJvbSBcIi4vcHJvY2Vzc29ycy9Nb2RpZnlSZXNwb25zZVJ1bGVQcm9jZXNzb3JcIjtcblxuY2xhc3MgUnVsZVByb2Nlc3NvckZhY3Rvcnkge1xuICBzdGF0aWMgZ2V0UnVsZVByb2Nlc3Nvckluc3RhbmNlKHJ1bGVUeXBlKSB7XG4gICAgc3dpdGNoIChydWxlVHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIENPTlNUQU5UUy5SVUxFX1RZUEVTLlJFRElSRUNULnRvTG93ZXJDYXNlKCk6XG4gICAgICAgIHJldHVybiBSZWRpcmVjdFJ1bGVQcm9jZXNzb3I7XG4gICAgICBjYXNlIENPTlNUQU5UUy5SVUxFX1RZUEVTLlJFUExBQ0UudG9Mb3dlckNhc2UoKTpcbiAgICAgICAgcmV0dXJuIFJlcGxhY2VSdWxlUHJvY2Vzc29yO1xuICAgICAgY2FzZSBDT05TVEFOVFMuUlVMRV9UWVBFUy5IRUFERVJTLnRvTG93ZXJDYXNlKCk6XG4gICAgICAgIHJldHVybiBIZWFkZXJzUnVsZVByb2Nlc3NvcjtcbiAgICAgIGNhc2UgQ09OU1RBTlRTLlJVTEVfVFlQRVMuQ0FOQ0VMLnRvTG93ZXJDYXNlKCk6XG4gICAgICAgIHJldHVybiBCbG9ja1JlcXVlc3RSdWxlUHJvY2Vzc29yO1xuICAgICAgY2FzZSBDT05TVEFOVFMuUlVMRV9UWVBFUy5RVUVSWVBBUkFNLnRvTG93ZXJDYXNlKCk6XG4gICAgICAgIHJldHVybiBRdWVyeVBhcmFtc1J1bGVQcm9jZXNzb3I7XG4gICAgICBjYXNlIENPTlNUQU5UUy5SVUxFX1RZUEVTLlNDUklQVC50b0xvd2VyQ2FzZSgpOlxuICAgICAgICByZXR1cm4gU2NyaXB0UnVsZVByb2Nlc3NvcjtcbiAgICAgIGNhc2UgQ09OU1RBTlRTLlJVTEVfVFlQRVMuVVNFUkFHRU5ULnRvTG93ZXJDYXNlKCk6XG4gICAgICAgIHJldHVybiBVc2VyQWdlbnRSdWxlUHJvY2Vzc29yO1xuICAgICAgY2FzZSBDT05TVEFOVFMuUlVMRV9UWVBFUy5ERUxBWS50b0xvd2VyQ2FzZSgpOlxuICAgICAgICByZXR1cm4gRGVsYXlSZXF1ZXN0UnVsZVByb2Nlc3NvcjtcbiAgICAgIGNhc2UgQ09OU1RBTlRTLlJVTEVfVFlQRVMuUkVTUE9OU0UudG9Mb3dlckNhc2UoKTpcbiAgICAgICAgcmV0dXJuIE1vZGlmeVJlc3BvbnNlUnVsZVByb2Nlc3NvcjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIFJ1bGUgUHJvY2Vzc29yIGZvciBydWxlIHR5cGU6IFwiICsgcnVsZVR5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJ1bGVQcm9jZXNzb3JGYWN0b3J5O1xuIiwiaW1wb3J0IFJ1bGVQcm9jZXNzb3JGYWN0b3J5IGZyb20gXCIuL1J1bGVQcm9jZXNzb3JGYWN0b3J5XCI7XG5cbi8vIEV4cG9zZSBydWxlIHByb2Nlc3NvciBJbnN0YW5jZSBmcm9tIHRoaXMgbW9kdWxlXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5zdGFuY2UocnVsZVR5cGU6IHN0cmluZykge1xuICByZXR1cm4gUnVsZVByb2Nlc3NvckZhY3RvcnkuZ2V0UnVsZVByb2Nlc3Nvckluc3RhbmNlKHJ1bGVUeXBlKTtcbn1cblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBSdWxlTWF0Y2hlciB9IGZyb20gXCIuL1J1bGVIZWxwZXJcIjtcbiIsImltcG9ydCBMT0NBTF9DT05TVEFOVFMgZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IFJ1bGVIZWxwZXIgZnJvbSBcIi4uL1J1bGVIZWxwZXJcIjtcblxuY2xhc3MgUmVkaXJlY3RSdWxlUHJvY2Vzc29yIHtcbiAgc3RhdGljIHByb2Nlc3MoeyBydWxlLCByZXF1ZXN0VVJMLCBkZXRhaWxzIH0pIHtcbiAgICBsZXQgcmVzdWx0aW5nVXJsID0gUnVsZUhlbHBlci5tYXRjaFVybFdpdGhSdWxlUGFpcnMoXG4gICAgICBydWxlLnBhaXJzLFxuICAgICAgcmVxdWVzdFVSTCxcbiAgICAgIGRldGFpbHNcbiAgICApO1xuICAgIC8vIHByb2Nlc3NlZFVybCA9IFJ1bGVNYXRjaGVyLm1hdGNoVmFsdWVGb3JQcmVkZWZpbmVkRnVuY3Rpb25zKFxuICAgIC8vICAgcHJvY2Vzc2VkVXJsLFxuICAgIC8vICAgUlEuUHJlRGVmaW5lZEZ1bmN0aW9uc1xuICAgIC8vICk7XG4gICAgcmV0dXJuIHJlc3VsdGluZ1VybCAmJiByZXN1bHRpbmdVcmwgIT09IHJlcXVlc3RVUkxcbiAgICAgID8geyBhY3Rpb246IExPQ0FMX0NPTlNUQU5UUy5BQ1RJT05TLlJFRElSRUNULCB1cmw6IHJlc3VsdGluZ1VybCB9XG4gICAgICA6IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVkaXJlY3RSdWxlUHJvY2Vzc29yO1xuIiwiaW1wb3J0IHsgdG9SZWdleCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vY29tcG9uZW50cy91dGlscy91dGlsc1wiO1xuaW1wb3J0IFJ1bGVIZWxwZXIgZnJvbSBcIi4uL1J1bGVIZWxwZXJcIjtcblxuY2xhc3MgUmVwbGFjZVJ1bGVQcm9jZXNzb3Ige1xuICBzdGF0aWMgcHJvY2Vzcyh7IHJ1bGUsIHJlcXVlc3RVUkwsIGRldGFpbHMgfSkge1xuICAgIGxldCBwYWlycyA9IHJ1bGUucGFpcnMsXG4gICAgICBwYWlyID0gbnVsbCxcbiAgICAgIGZyb20gPSBudWxsLFxuICAgICAgaXNGcm9tUGFydFJlZ2V4LFxuICAgICAgcmVzdWx0aW5nVXJsID0gcmVxdWVzdFVSTDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgIHBhaXIuZnJvbSA9IHBhaXIuZnJvbSB8fCBcIlwiO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHBhaXIuc291cmNlICYmXG4gICAgICAgICFSdWxlSGVscGVyLm1hdGNoUmVxdWVzdFdpdGhSdWxlU291cmNlRmlsdGVycyhcbiAgICAgICAgICBwYWlyLnNvdXJjZS5maWx0ZXJzLFxuICAgICAgICAgIGRldGFpbHNcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBTb3VyY2UgVmFsdWUgZXhpc3RzIGFuZCBkb2VzIG5vdCBtYXRjaCwgcHJvY2VlZCB3aXRoIG5leHQgcGFpclxuICAgICAgaWYgKFxuICAgICAgICBwYWlyLnNvdXJjZSAmJlxuICAgICAgICBwYWlyLnNvdXJjZS52YWx1ZSAmJlxuICAgICAgICBSdWxlSGVscGVyLm1hdGNoVXJsV2l0aFJ1bGVTb3VyY2UocGFpci5zb3VyY2UsIHJlc3VsdGluZ1VybCkgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiBzdHJpbmcgcGFpci5mcm9tIGxvb2tzIGxpa2UgYSBSZWdFeHAsIGNyZWF0ZSBhIFJlZ0V4cCBvYmplY3QgZnJvbSBpdFxuICAgICAgZnJvbSA9IHRvUmVnZXgocGFpci5mcm9tKTtcbiAgICAgIGlzRnJvbVBhcnRSZWdleCA9IGZyb20gIT09IG51bGw7XG5cbiAgICAgIGZyb20gPSBmcm9tIHx8IHBhaXIuZnJvbTtcblxuICAgICAgLy8gVXNlIFN0cmluZy5tYXRjaCBtZXRob2Qgd2hlbiBmcm9tIGlzIFJlZ2V4IG90aGVyd2lzZSB1c2UgaW5kZXhPZlxuICAgICAgLy8gSXNzdWUtODY6IFN0cmluZy5tYXRjaChcIj9hPTFcIikgZmFpbHMgd2l0aCBhbiBlcnJvclxuICAgICAgaWYgKFxuICAgICAgICAoaXNGcm9tUGFydFJlZ2V4ICYmIHJlc3VsdGluZ1VybC5tYXRjaChmcm9tKSkgfHxcbiAgICAgICAgcmVzdWx0aW5nVXJsLmluZGV4T2YoZnJvbSkgIT09IC0xXG4gICAgICApIHtcbiAgICAgICAgcmVzdWx0aW5nVXJsID0gcmVzdWx0aW5nVXJsLnJlcGxhY2UoZnJvbSwgcGFpci50byk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdGluZ1VybCAhPT0gcmVxdWVzdFVSTFxuICAgICAgPyB7IGFjdGlvbjogXCJyZWRpcmVjdFwiLCB1cmw6IHJlc3VsdGluZ1VybCB9XG4gICAgICA6IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVwbGFjZVJ1bGVQcm9jZXNzb3I7XG4iLCJpbXBvcnQgUnVsZUhlbHBlciBmcm9tIFwiLi4vUnVsZUhlbHBlclwiO1xuaW1wb3J0IExPQ0FMX0NPTlNUQU5UUyBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmNsYXNzIEJsb2NrUmVxdWVzdFJ1bGVQcm9jZXNzb3Ige1xuICBzdGF0aWMgcHJvY2Vzcyh7IHJ1bGUsIHJlcXVlc3RVUkwsIGRldGFpbHMgfSkge1xuICAgIGNvbnN0IHVybCA9IHJlcXVlc3RVUkw7XG4gICAgbGV0IHJlc3VsdGluZ1VybCA9IFJ1bGVIZWxwZXIubWF0Y2hVcmxXaXRoUnVsZVBhaXJzKFxuICAgICAgcnVsZS5wYWlycyxcbiAgICAgIHVybCxcbiAgICAgIGRldGFpbHNcbiAgICApO1xuXG4gICAgLy8gIHJldHVybiByZXN1bHRpbmdVcmwgJiYgcmVzdWx0aW5nVXJsICE9PSB1cmxcbiAgICByZXR1cm4gdHlwZW9mIHJlc3VsdGluZ1VybCA9PT0gXCJzdHJpbmdcIiAmJiByZXN1bHRpbmdVcmwubGVuZ3RoID09PSAwXG4gICAgICA/IHsgYWN0aW9uOiBMT0NBTF9DT05TVEFOVFMuQUNUSU9OUy5CTE9DSyB9XG4gICAgICA6IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmxvY2tSZXF1ZXN0UnVsZVByb2Nlc3NvcjtcbiIsImltcG9ydCBSdWxlSGVscGVyIGZyb20gXCIuLi9SdWxlSGVscGVyXCI7XG5cbmNsYXNzIE1vZGlmeVJlc3BvbnNlUnVsZVByb2Nlc3NvciB7XG4gIHN0YXRpYyBwcm9jZXNzKHsgcnVsZSwgcmVxdWVzdFVSTCwgZGV0YWlscyB9KSB7XG4gICAgLy8gUmVzcG9uc2UgcnVsZSBpcyBhbHdheXMgc2luZ2xlIHBhaXJlZFxuICAgIHZhciBwYWlyID0gcnVsZS5wYWlyc1swXTtcbiAgICBpZiAoUnVsZUhlbHBlci5tYXRjaFVybFdpdGhSdWxlUGFpcihwYWlyLCByZXF1ZXN0VVJMLCBkZXRhaWxzKSA9PT0gbnVsbClcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgaWYgKCFwYWlyLnJlc3BvbnNlIHx8ICFwYWlyLnJlc3BvbnNlLnR5cGUgfHwgIXBhaXIucmVzcG9uc2UudmFsdWUpXG4gICAgICByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb246IFwibW9kaWZ5X3Jlc3BvbnNlXCIsXG4gICAgICByZXNwb25zZTogcGFpci5yZXNwb25zZS52YWx1ZSxcbiAgICAgIHJlc3BvbnNlVHlwZTogcGFpci5yZXNwb25zZS50eXBlLFxuICAgICAgc3RhdHVzQ29kZTogcGFpci5yZXNwb25zZS5zdGF0dXNDb2RlLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kaWZ5UmVzcG9uc2VSdWxlUHJvY2Vzc29yO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImdsb2JhbCIsImlzUmVhY3RBcHAiLCJDT05TVEFOVFMiLCJDT05GSUdTIiwid2luZG93IiwiUlEiLCJjb25maWdzIiwiQVBQX01PREVTIiwiREVTS1RPUCIsIkVYVEVOU0lPTiIsIldPUkRQUkVTUyIsIkNMT1VERkxBUkUiLCJDT01QQU5ZX0lORk8iLCJTVVBQT1JUX0VNQUlMIiwiVkVSU0lPTiIsIlRSQUNLX0VSUk9SUyIsIk9OQk9BUkRJTkdfREFZU19UT19FWFBJUkUiLCJPTkJPQVJESU5HX1RBU0tTIiwiRklMRV9QSUNLRVJfVVJMIiwiVkVSU0lPTlMiLCJSRVBMQUNFX1JVTEUiLCJFTlYiLCJlbnYiLCJQVUJMSUNfTkFNRVNQQUNFIiwiUlVMRVNfUEFHRV9VUkwiLCJXRUJfVVJMIiwiUlVMRVNfUEFHRV9VUkxfUEFUVEVSTiIsIlBSSUNJTkdfUEFHRV9VUkwiLCJHT09EQllFX1BBR0VfVVJMIiwiREVMQVlfQVBJX1VSTCIsIk1PQ0tfVVJMIiwiREVTS1RPUF9BUFBfVVJMIiwiQkxBQ0tfTElTVF9ET01BSU5TIiwiU1RSSU5HX0NPTlNUQU5UUyIsIlNMQVNIIiwiTElNSVRTIiwiTlVNQkVSX1NIQVJFRF9MSVNUUyIsIk5VTUJFUl9FWEVDVVRJT05fTE9HUyIsIkRFRkFVTFRTIiwiQVBQX0lOSVRfVElNRU9VVCIsIk9CSkVDVF9UWVBFUyIsIkdST1VQIiwiUlVMRSIsIlJVTEVfVFlQRVMiLCJSRURJUkVDVCIsIkNBTkNFTCIsIlJFUExBQ0UiLCJIRUFERVJTIiwiVVNFUkFHRU5UIiwiU0NSSVBUIiwiUVVFUllQQVJBTSIsIlJFU1BPTlNFIiwiREVMQVkiLCJERUxBWV9SRVFVRVNUX0NPTlNUQU5UUyIsIkRFTEFZX1BBUkFNX05BTUUiLCJERUxBWV9QQVJBTV9WQUxVRSIsIk1JTl9ERUxBWV9WQUxVRSIsIk1BWF9ERUxBWV9WQUxVRV9OT05fWEhSIiwiTUFYX0RFTEFZX1ZBTFVFX1hIUiIsIkRFTEFZX1RZUEUiLCJDTElFTlRfU0lERSIsIlNFUlZFUl9TSURFIiwiUkVRVUVTVF9UWVBFIiwiWEhSIiwiTUVUSE9EX1RZUEUiLCJHRVQiLCJPQkpFQ1RfRk9STUFUX0tFWVMiLCJDUkVBVElPTl9EQVRFIiwiTkFNRSIsIklEIiwiUlVMRV9UWVBFIiwiU1RBVFVTIiwiT0JKRUNUX1RZUEUiLCJHUk9VUF9JRCIsIklTX0ZBVk9VUklURSIsIkhFQURFUl9OQU1FUyIsIlVTRVJfQUdFTlQiLCJHUk9VUF9TVEFUVVMiLCJBQ1RJVkUiLCJJTkFDVElWRSIsIlJVTEVfU1RBVFVTIiwiU1VCU0NSSVBUSU9OX1NUQVRVUyIsIkNBTkNFTExFRCIsIlJVTEVfS0VZUyIsIlVSTCIsIkhPU1QiLCJQQVRIIiwiSEVBREVSIiwiT1ZFUldSSVRFIiwiSUdOT1JFIiwiUEFSQU0iLCJWQUxVRSIsIlBBVEhfRlJPTV9QQUlSIiwiUlVMRV9PUEVSQVRPUlMiLCJTQ1JJUFRfTElCUkFSSUVTIiwiU09VUkNFX1BBR0VfVVJMX09QRVJBVE9SIiwiU09VUkNFX1BBR0VfVVJMX1ZBTFVFIiwiU09VUkNFX1JFU09VUkNFX1RZUEUiLCJTT1VSQ0VfUkVRVUVTVF9NRVRIT0QiLCJTT1VSQ0VfUkVRVUVTVF9QQVlMT0FEX0tFWSIsIlNPVVJDRV9SRVFVRVNUX1BBWUxPQURfVkFMVUUiLCJIRUFERVJfU1VHR0VTVElPTlMiLCJSZXF1ZXN0IiwibGFiZWwiLCJ2YWx1ZSIsIlJlc3BvbnNlIiwiVVJMX0NPTVBPTkVOVFMiLCJQUk9UT0NPTCIsIlFVRVJZIiwiSEFTSCIsIkVRVUFMUyIsIkNPTlRBSU5TIiwiTUFUQ0hFUyIsIldJTERDQVJEX01BVENIRVMiLCJSVUxFX1NPVVJDRV9GSUxURVJfVFlQRVMiLCJQQUdFX1VSTCIsIlJFU09VUkNFX1RZUEUiLCJSRVFVRVNUX01FVEhPRCIsIlJFUVVFU1RfREFUQSIsIk1PRElGSUNBVElPTl9UWVBFUyIsIkFERCIsIlJFTU9WRSIsIlJFTU9WRV9BTEwiLCJNT0RJRlkiLCJORUVEX0hFTFBfUVVFUllfVFlQRVMiLCJGRUVEQkFDSyIsIkJVRyIsIlFVRVNUSU9OIiwiRkVBVFVSRV9SRVFVRVNUIiwiQ0xJRU5UX01FU1NBR0VTIiwiR0VUX1NDUklQVF9SVUxFUyIsIkRPX1NFVFVQX1JFU1BPTlNFX1JVTEVfSEFORExFUiIsIkdFVF9VU0VSX0FHRU5UX1JVTEVfUEFJUlMiLCJPVkVSUklERV9SRVNQT05TRSIsIk5PVElGWV9SVUxFU19BUFBMSUVEIiwiRVhURU5TSU9OX01FU1NBR0VTIiwiRk9DVVNfVEFCIiwiR0VUX0ZVTExfTE9HUyIsIkNMRUFSX0xPR1NfRk9SX1RBQiIsIkNMRUFSX0xPR1NfRk9SX0RPTUFJTiIsIkdFVF9GQVZPVVJJVEVfUlVMRVMiLCJHRVRfRkxBR1MiLCJIRUFERVJTX1RBUkdFVCIsIlJFUVVFU1QiLCJSRVFVRVNUX1RZUEVTIiwiTUFJTl9GUkFNRSIsIlBBR0VfUkVRVUVTVCIsIlNDUklQVF9UWVBFUyIsIkNPREUiLCJTQ1JJUFRfQ09ERV9UWVBFUyIsIkpTIiwiQ1NTIiwiU0NSSVBUX0xPQURfVElNRSIsIkJFRk9SRV9QQUdFX0xPQUQiLCJBRlRFUl9QQUdFX0xPQUQiLCJKUVVFUlkiLCJuYW1lIiwic3JjIiwiVU5ERVJTQ09SRSIsIlJFU1BPTlNFX0JPRFlfVFlQRVMiLCJTVEFUSUMiLCJMT0NBTF9GSUxFIiwiUkVTUE9OU0VfQ09ERVMiLCJOT1RfRk9VTkQiLCJTVE9SQUdFX0tFWVMiLCJSRVFVRVNUTFlfU0VUVElOR1MiLCJVU0VSX0lORk8iLCJMQVRFU1RfTk9USUZJQ0FUSU9OX1JFQURfQllfVVNFUiIsIk1FU1NBR0VTIiwiREVMRVRFX0lURU1TX05PX1NFTEVDVElPTl9XQVJOSU5HIiwiREVMRVRFX0lURU1TIiwiREVMRVRFX0dST1VQX1dJVEhfUlVMRVNfV0FSTklORyIsIkRFTEVURV9HUk9VUCIsIlVOR1JPVVBfSVRFTVNfTk9fU0VMRUNUSU9OX1dBUk5JTkciLCJVTkdST1VQX0lURU1TIiwiU0lHTl9JTl9UT19WSUVXX1NIQVJFRF9MSVNUUyIsIlNJR05fSU5fVE9fQ1JFQVRFX1NIQVJFRF9MSVNUUyIsIlNJR05fSU5fVE9fU1VCTUlUX1FVRVJZIiwiRVJST1JfQVVUSEVOVElDQVRJT04iLCJTSEFSRURfTElTVFNfTElNSVRfUkVBQ0hFRCIsIkVSUk9SX1RBQl9GT0NVUyIsIkRFQUNUSVZBVEVfUkVRVUVTVExZX01FTlVfT1BUSU9OIiwiUkVTT1VSQ0VTIiwiRVhURU5TSU9OX0lDT04iLCJFWFRFTlNJT05fSUNPTl9HUkVZU0NBTEUiLCJFWFRFTlNJT05fSUNPTl9HUkVFTiIsIkdBX0VWRU5UUyIsIkNBVEVHT1JJRVMiLCJSVUxFUyIsIlVTRVIiLCJTSEFSRURfTElTVCIsIlRSQVNIIiwiUlVMRV9MT0dTIiwiSU5fQVBQX05PVElGSUNBVElPTiIsIk5FRURfSEVMUF9GRUFUVVJFIiwiUFJJQ0lORyIsIkxJQ0VOU0UiLCJMSUJSQVJZIiwiVU5MT0NLIiwiUkVNT1RFX1JVTEVTIiwiU1BPTlNPUl9TSURFUkFJTCIsIkxPR0lOIiwiU0lHTlVQIiwiUkVGRVJSQUwiLCJQQUdFX1ZJU0lUUyIsIlJFUVVFU1RfVVBHUkFERSIsIk1BUktFVFBMQUNFIiwiQ0hFQ0tPVVQiLCJURUFNUyIsIk9OQk9BUkRJTkciLCJSVUxFX1BBSVJTIiwiREVTS1RPUF9BUFAiLCJBQ1RJT05TIiwiTU9ESUZJRUQiLCJDUkVBVEVEIiwiREVMRVRFRCIsIkFDVElWQVRFRCIsIkRFQUNUSVZBVEVEIiwiSU1QT1JURUQiLCJFWFBPUlRFRCIsIkxJTUlUX1JFQUNIRUQiLCJBVVRIRU5USUNBVEVEIiwiVklFV0VEIiwiQ0xJQ0tFRCIsIkNPUElFRCIsIk1BUktFRF9GQVZPVVJJVEUiLCJVTk1BUktFRF9GQVZPVVJJVEUiLCJXT1JLRkxPV19TVEFSVEVEIiwiQUxSRUFEWV9MT0dJTiIsIkxPR0lOX1JFUVVFU1RFRCIsIkxPR0lOX0RPTkUiLCJMT0dJTl9SRUpFQ1RFRCIsIkZPUk1fU1VCTUlUVEVEIiwiRk9STV9SRUpFQ1RFRCIsIklOVkFMSURfU1VCTUlUIiwiR1JPVVBFRCIsIlVOR1JPVVBFRCIsIlNIQVJFRCIsIkVSUk9SIiwiVEFTS19DT01QTEVURUQiLCJCQUNLVVBfQ1JFQVRFRCIsIkJBQ0tVUF9VU0VEIiwiQ0FSRF9FUlJPUiIsIkNBUkRfQUNDRVBURUQiLCJDQVJEX0VOVEVSRUQiLCJDVVJSRU5DWV9DSEFOR0UiLCJEVVJBVElPTl9DSEFOR0UiLCJBUFBMSUVEX1NVQ0NFU1NGVUxMWSIsIkFQUExJRURfVU5TVUNDRVNTRlVMTFkiLCJSRVZPS0VEIiwiQk9VR0hUIiwiVVBEQVRFRCIsIlJFUVVFU1RfQURNSU4iLCJVTklOU1RBTExFRCIsIlVOSU5TVEFMTF9SRVNQT05TRSIsIlJPVVRFX1ZJRVdFRCIsIkVNQUlMX0xPR0lOX1BFUkZPUk1FRCIsIkVNQUlMX1NJR05VUF9QRVJGT1JNRUQiLCJHTUFJTF9MT0dJTl9QRVJGT1JNRUQiLCJHTUFJTF9TSUdOVVBfUEVSRk9STUVEIiwiTUlDUk9TT0ZUX0xPR0lOX1BFUkZPUk1FRCIsIkFQUExFX0xPR0lOX1BFUkZPUk1FRCIsIlJFRkVSUkFMX0FQUExJRUQiLCJSRUZFUlJBTF9GQUlMRUQiLCJFTUFJTF9WRVJJRklDQVRJT05fUkVTRU5EIiwiRU1BSUxfVkVSSUZJQ0FUSU9OX1NVQ0NFU1NGVUwiLCJFTUFJTF9WRVJJRklDQVRJT05fRkFJTEVEIiwiVFJBRkZJQ19UQUJMRV9WSUVXRUQiLCJUUkFGRklDX1RBQkxFX01PRElGSUVEIiwiQVBQX0xBVU5DSEVEIiwiQVBQX0NMT1NFRCIsIkFQUF9OT1RfTEFVTkNIRUQiLCJQUk9YWV9TRVJWRVIiLCJCR19QUk9DRVNTIiwiTUFOVUFMX1NFVFVQX01BQyIsIkRBUktfTU9ERV9FTkFCTEVEIiwiREFSS19NT0RFX0RJU0FCTEVEIiwiVVBHUkFERV9SRVFVSVJFRF9GT1JfREFSS19NT0RFIiwiU0lNVUxBVEVfUlVMRSIsIkVYRUNVVElPTl9MT0dTIiwiQVRUUiIsIlBBWU1FTlRfTU9ERSIsIlBMQU5OQU1FIiwiUExBTl9EVVJBVElPTiIsIlBMQU5fSUQiLCJQTEFOX1NUQVJUX0RBVEUiLCJQTEFOX0VORF9EQVRFIiwiQ09VUE9OIiwiQ09VUE9OX1ZBTFVFIiwiQ09NUEFOWSIsIlBST0ZJTEUiLCJSRU1PVEVfUlVMRVNfRU5EUE9JTlQiLCJSRU1PVEVfUlVMRVNfRlJFUVVFTkNZIiwiTlVNX1JVTEVTIiwiTlVNX0FDVElWRV9SVUxFUyIsIk5VTV9HUk9VUFMiLCJOVU1fQUNUSVZFX0dST1VQUyIsIk5VTV9TSEFSRURfTElTVFMiLCJPTkJPQVJESU5HX1YxX0RPTkUiLCJTSUdOVVBfREFURSIsIkVYVEVOU0lPTl9JTlNUQUxMX0RBVEUiLCJERVNLVE9QX0lOU1RBTExfREFURSIsIkFQUF9NT0RFIiwiRU1BSUxfVFlQRSIsIkVNQUlMX0RPTUFJTiIsIklTX1BSRU1JVU0iLCJUUklBTF9NT0RFX0VOQUJMRUQiLCJWQUxVRVMiLCJQQVlQQUwiLCJHQV9DVVNUT01fRElNRU5TSU9OUyIsIlVTRVJfSUQiLCJHQV9DVVNUT01fTUVUUklDUyIsIm51bV9ydWxlcyIsIkFVVEhPUklaRUQiLCJVTkFVVEhPUklaRUQiLCJGSVJFQkFTRV9OT0RFUyIsIlVTRVJTIiwiUFVCTElDIiwiU0hBUkVEX0xJU1RTIiwiRklMRVMiLCJEQVRBU1RPUkUiLCJDSEVDS19VU0VSX0FVVEgiLCJBVVRIRU5USUNBVEUiLCJGRVRDSF9VU0VSX0RFVEFJTFMiLCJHRVRWQUxVRSIsIlNFVFZBTFVFIiwiTUVTU0FHRV9IQU5ETEVSIiwiU1VCTUlUX0VWRU5UIiwiU1VCTUlUX0FUVFIiLCJNRVNTQUdFX1RZUEVTIiwiRVZFTlQiLCJBVFRSSUJVVEUiLCJTSU5LUyIsIkNVU1RPTUVSTFkiLCJnZXRTaGFyZWRMaXN0VVJMIiwic2hhcmVJZCIsInNoYXJlZExpc3ROYW1lIiwiZm9ybWF0dGVkU2hhcmVkTGlzdE5hbWUiLCJyZXBsYWNlIiwiUmVnRXhwIiwiZ2V0U2hhcmVkTGlzdFRpbWVzdGFtcCIsInNoYXJlZExpc3RJZCIsInNwbGl0IiwiZmlyZUFqYXgiLCJyZXF1ZXN0VVJMIiwiYXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJ0aGlzIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJPYmplY3QiLCJhc3NpZ24iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInJlZ2V4Rm9ybWF0IiwidG9SZWdleCIsInJlZ2V4U3RyIiwibWF0Y2hSZWdFeHAiLCJpc1JlZ2V4U3RyaW5nVmFsaWQiLCJzZWFyY2giLCJpc1ZhbGlkUmVnZXgiLCJtYXRjaCIsImV4dHJhY3RVcmxDb21wb25lbnQiLCJ1cmwiLCJteVVybCIsInByb3RvY29sIiwiaG9zdCIsInBhdGhuYW1lIiwiaGFzaCIsImNvbnNvbGUiLCJlcnJvciIsImdldFF1ZXJ5UGFyYW1zTWFwIiwicXVlcnlTdHJpbmciLCJtYXAiLCJzdWJzdHIiLCJmb3JFYWNoIiwicXVlcnlQYXJhbSIsInBhcmFtTmFtZSIsInBhcmFtVmFsdWUiLCJwdXNoIiwiY29udmVydFF1ZXJ5UGFyYW1NYXBUb1N0cmluZyIsInF1ZXJ5UGFyYW1zTWFwIiwicXVlcnlQYXJhbXNBcnIiLCJqb2luIiwiZ2V0VXJsV2l0aG91dFF1ZXJ5UGFyYW1zQW5kSGFzaCIsIlBSRURFRklORURfRlVOQ1RJT05TIiwiR0VORVJBVEVfUkFORE9NX05VTUJFUiIsImFwcGxpY2FibGVSdWxlVHlwZXMiLCJkZXNjcmlwdGlvbiIsInVzYWdlIiwiYXJndW1lbnQiLCJnZXRSYW5kb21OdW1iZXIiLCJudW1EaWdpdHMiLCJNYXRoIiwiY2VpbCIsInJhbmRvbSIsInBvdyIsImFyZ3VtZW50RXZhbHVhdG9yIiwiYXJncyIsInBheWxvYWQiLCJhcmciLCJtaW4iLCJ2YWx1ZVRvRml0IiwidG9TdHJpbmciLCJsZW5ndGgiLCJHRVRfUkVRVUVTVF9PUklHSU4iLCJSdWxlTWF0Y2hlciIsInN0YXRpYyIsImZpbmFsU3RyaW5nIiwibWF0Y2hlcyIsIm1hdGNoVmFsdWUiLCJpbmRleCIsInJlZ2V4U3RyaW5nIiwiaW5wdXRTdHJpbmciLCJyZWdleCIsImV4ZWMiLCJwb3B1bGF0ZU1hdGNoZXNJblN0cmluZyIsIndpbGRDYXJkU3RyaW5nIiwid2lsZENhcmRTcGxpdHMiLCJwb3NpdGlvbkluSW5wdXQiLCJpbmRleE9mIiwic2xpY2UiLCJzb3VyY2VPYmplY3QiLCJkZXN0aW5hdGlvbiIsIm9wZXJhdG9yIiwidXJsQ29tcG9uZW50IiwiYmxhY2tMaXN0ZWREb21haW5zIiwibWF0Y2hVcmxDcml0ZXJpYSIsInJlc3VsdGluZ1VybCIsImNoZWNrUmVnZXhNYXRjaCIsImNoZWNrV2lsZENhcmRNYXRjaCIsInBhaXIiLCJyZXF1ZXN0RGV0YWlscyIsIm5ld1Jlc3VsdGluZ1VybCIsIm1hdGNoUmVxdWVzdFdpdGhSdWxlU291cmNlRmlsdGVycyIsInNvdXJjZSIsImZpbHRlcnMiLCJtYXRjaFVybFdpdGhSdWxlU291cmNlIiwicGFpcnMiLCJwYWlySW5kZXgiLCJtYXRjaFVybFdpdGhSdWxlUGFpciIsInNvdXJjZUZpbHRlcnMiLCJmaWx0ZXIiLCJmaWx0ZXJWYWx1ZXMiLCJldmVyeSIsInBhZ2VVcmxGaWx0ZXIiLCJtYXRjaFBhZ2VVcmxGaWx0ZXIiLCJzb21lIiwicmVxdWVzdE1ldGhvZEZpbHRlciIsIm1ldGhvZCIsInJlcXVlc3RUeXBlRmlsdGVyIiwidHlwZSIsImlzUmVxdWVzdFBheWxvYWRGaWx0ZXJBcHBsaWNhYmxlIiwicmVxdWVzdERhdGEiLCJwYWdlVXJsIiwicHJlRGVmRnVuY05hbWUiLCJwcmVEZWZGdW5jIiwiYXJndW1lbnRQYXR0ZXJuIiwiY29uc3RydWN0b3IiLCJBcnJheSIsInBhdHRlcm4iLCJ0b2tlbiIsInRyaW0iLCJydWxlVHlwZSIsInJ1bGVQYWlyIiwibW9kaWZpY2F0aW9uIiwidGFyZ2V0IiwiaGVhZGVyIiwidXNlckFnZW50IiwiaGVhZGVycyIsIm5ld0hlYWRlciIsImkiLCJ0b0xvd2VyQ2FzZSIsInNwbGljZSIsInJlbW92ZUhlYWRlciIsImFkZEhlYWRlciIsInJlcXVlc3RQYXlsb2FkRmlsdGVyIiwia2V5cyIsInRhcmdldHRlZEtleSIsImpzb25PYmplY3QiLCJwYXRoIiwicGF0aFBhcnRzIiwiZSIsImxvZyIsInRyYXZlcnNlSnNvbkJ5UGF0aCIsIkJMT0NLIiwiQUREX0RFTEFZIiwiUXVlcnlQYXJhbXNSdWxlUHJvY2Vzc29yIiwicnVsZSIsImRldGFpbHMiLCJSdWxlSGVscGVyIiwiYXBwbHlRdWVyeVBhcmFtTW9kaWZpY2F0aW9ucyIsIm1vZGlmaWNhdGlvbnMiLCJhY3Rpb24iLCJhcHBseVF1ZXJ5UGFyYW1Nb2RpZmljYXRpb24iLCJ1cmxXaXRob3V0UXVlcnlQYXJhbXMiLCJ1cmxIYXNoIiwicGFyYW0iLCJvdmVyd3JpdGUiLCJ1cmxXaXRob3V0UXVlcnlQYXJhbXNBbmRIYXNoIiwiYWRkUXVlcnlQYXJhbVRvVVJMIiwiYWN0aW9uV2hlblBhcmFtRXhpc3RzIiwiZ2V0SW5zdGFuY2UiLCJtYXRjaFVybFdpdGhSdWxlUGFpcnMiLCJpc0Zyb21QYXJ0UmVnZXgiLCJmcm9tIiwidG8iLCJvcmlnaW5hbEhlYWRlcnMiLCJ0eXBlT2ZIZWFkZXJzIiwiaXNSdWxlQXBwbGllZCIsInJ1bGVQYWlycyIsIm5ld0hlYWRlcnMiLCJ2YWx1ZVdpdGhQcmVEZWZGdW5jdGlvbnNBcHBsaWVkIiwibWF0Y2hWYWx1ZUZvclByZWRlZmluZWRGdW5jdGlvbnMiLCJtb2RpZnlIZWFkZXJJZkV4aXN0cyIsInJlcGxhY2VIZWFkZXIiLCJsaWJyYXJpZXMiLCJzY3JpcHRzIiwibGlicmFyeSIsImluY2x1ZGVzIiwiZGF0YSIsImNzc1NjcmlwdHMiLCJjb25jYXQiLCJzY3JpcHQiLCJjb2RlVHlwZSIsImpzU2NyaXB0cyIsIm9yaWdpbmFsUmVxdWVzdEhlYWRlcnMiLCJuZXdSZXF1ZXN0SGVhZGVycyIsIm1haW5GcmFtZVVybCIsInBhZ2VEb21haW4iLCJnZXRIZWFkZXJNb2RpZmljYXRpb24iLCJyZXF1ZXN0VHlwZSIsImRlbGF5IiwiZGVsYXlUeXBlIiwicmVzcG9uc2UiLCJyZXNwb25zZVR5cGUiLCJzdGF0dXNDb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==